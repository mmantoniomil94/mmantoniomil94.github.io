/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-valuechange",function(e,t){var n="_valuechange",r="value",i="nodeName",s,o={POLL_INTERVAL:50,TIMEOUT:1e4,_poll:function(t,r){var i=t._node,s=r.e,u=t._data&&t._data[n],a=0,f,l,c,h,p,d;if(!i||!u){o._stopPolling(t);return}l=u.prevVal,h=u.nodeName,u.isEditable?c=i.innerHTML:h==="input"||h==="textarea"?c=i.value:h==="select"&&(p=i.options[i.selectedIndex],c=p.value||p.text),c!==l&&(u.prevVal=c,f={_event:s,currentTarget:s&&s.currentTarget||t,newVal:c,prevVal:l,target:s&&s.target||t},e.Object.some(u.notifiers,function(e){var t=e.handle.evt,n;a!==1?e.fire(f):t.el===d&&e.fire(f),n=t&&t._facade?t._facade.stopped:0,n>a&&(a=n,a===1&&(d=t.el));if(a===2)return!0}),o._refreshTimeout(t))},_refreshTimeout:function(e,t){if(!e._node)return;var r=e.getData(n);o._stopTimeout(e),r.timeout=setTimeout(function(){o._stopPolling(e,t)},o.TIMEOUT)},_startPolling:function(t,s,u){var a,f;if(!t.test("input,textarea,select")&&!(f=o._isEditable(t)))return;a=t.getData(n),a||(a={nodeName:t.get(i).toLowerCase(),isEditable:f,prevVal:f?t.getDOMNode().innerHTML:t.get(r)},t.setData(n,a)),a.notifiers||(a.notifiers={});if(a.interval){if(!u.force){a.notifiers[e.stamp(s)]=s;return}o._stopPolling(t,s)}a.notifiers[e.stamp(s)]=s,a.interval=setInterval(function(){o._poll(t,u)},o.POLL_INTERVAL),o._refreshTimeout(t,s)},_stopPolling:function(t,r){if(!t._node)return;var i=t.getData(n)||{};clearInterval(i.interval),delete i.interval,o._stopTimeout(t),r?i.notifiers&&delete i.notifiers[e.stamp(r)]:i.notifiers={}},_stopTimeout:function(e){var t=e.getData(n)||{};clearTimeout(t.timeout),delete t.timeout},_isEditable:function(e){var t=e._node;return t.contentEditable==="true"||t.contentEditable===""},_onBlur:function(e,t){o._stopPolling(e.currentTarget,t)},_onFocus:function(e,t){var s=e.currentTarget,u=s.getData(n);u||(u={isEditable:o._isEditable(s),nodeName:s.get(i).toLowerCase()},s.setData(n,u)),u.prevVal=u.isEditable?s.getDOMNode().innerHTML:s.get(r),o._startPolling(s,t,{e:e})},_onKeyDown:function(e,t){o._startPolling(e.currentTarget,t,{e:e})},_onKeyUp:function(e,t){(e.charCode===229||e.charCode===197)&&o._startPolling(e.currentTarget,t,{e:e,force:!0})},_onMouseDown:function(e,t){o._startPolling(e.currentTarget,t,{e:e})},_onSubscribe:function(t,s,u,a){var f,l,c,h,p;l={blur:o._onBlur,focus:o._onFocus,keydown:o._onKeyDown,keyup:o._onKeyUp,mousedown:o._onMouseDown},f=u._valuechange={};if(a)f.delegated=!0,f.getNodes=function(){return h=t.all("input,textarea,select").filter(a),p=t.all('[contenteditable="true"],[contenteditable=""]').filter(a),h.concat(p)},f.getNodes().each(function(e){e.getData(n)||e.setData(n,{nodeName:e.get(i).toLowerCase(),isEditable:o._isEditable(e),prevVal:c?e.getDOMNode().innerHTML:e.get(r)})}),u._handles=e.delegate(l,t,a,null,u);else{c=o._isEditable(t);if(!t.test("input,textarea,select")&&!c)return;t.getData(n)||t.setData(n,{nodeName:t.get(i).toLowerCase(),isEditable:c,prevVal:c?t.getDOMNode().innerHTML:t.get(r)}),u._handles=t.on(l,null,null,u)}},_onUnsubscribe:function(e,t,n){var r=n._valuechange;n._handles&&n._handles.detach(),r.delegated?r.getNodes().each(function(e){o._stopPolling(e,n)}):o._stopPolling(e,n)}};s={detach:o._onUnsubscribe,on:o._onSubscribe,delegate:o._onSubscribe,detachDelegate:o._onUnsubscribe,publishConfig:{emitFacade:!0}},e.Event.define("valuechange",s),e.Event.define("valueChange",s),e.ValueChange=o},"3.16.0",{requires:["event-focus","event-synthetic"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("event-tap",function(e,t){function a(t,n){n=n||e.Object.values(u),e.Array.each(n,function(e){var n=t[e];n&&(n.detach(),t[e]=null)})}var n=e.config.doc,r=e.Event._GESTURE_MAP,i=r.start,s="tap",o=/pointer/i,u={START:"Y_TAP_ON_START_HANDLE",END:"Y_TAP_ON_END_HANDLE",CANCEL:"Y_TAP_ON_CANCEL_HANDLE"};e.Event.define(s,{publishConfig:{preventedFn:function(e){var t=e.target.once("click",function(e){e.preventDefault()});setTimeout(function(){t.detach()},100)}},processArgs:function(e,t){if(!t){var n=e[3];return e.splice(3,1),n}},on:function(e,t,n){t[u.START]=e.on(i,this._start,this,e,t,n)},detach:function(e,t,n){a(t)},delegate:function(t,n,r,s){n[u.START]=e.delegate(i,function(e){this._start(e,t,n,r,!0)},t,s,this)},detachDelegate:function(e,t,n){a(t)},_start:function(e,t,n,i,s){var a={canceled:!1,eventType:e.type},f=n.preventMouse||!1;if(e.button&&e.button===3)return;if(e.touches&&e.touches.length!==1)return;a.node=s?e.currentTarget:t,e.touches?a.startXY=[e.touches[0].pageX,e.touches[0].pageY]:a.startXY=[e.pageX,e.pageY],e.touches?(n[u.END]=t.once("touchend",this._end,this,t,n,i,s,a),n[u.CANCEL]=t.once("touchcancel",this.detach,this,t,n,i,s,a),n.preventMouse=!0):a.eventType.indexOf("mouse")!==-1&&!f?(n[u.END]=t.once("mouseup",this._end,this,t,n,i,s,a),n[u.CANCEL]=t.once("mousecancel",this.detach,this,t,n,i,s,a)):a.eventType.indexOf("mouse")!==-1&&f?n.preventMouse=!1:o.test(a.eventType)&&(n[u.END]=t.once(r.end,this._end,this,t,n,i,s,a),n[u.CANCEL]=t.once(r.cancel,this.detach,this,t,n,i,s,a))},_end:function(e,t,n,r,i,o){var f=o.startXY,l,c,h=15;n._extra&&n._extra.sensitivity>=0&&(h=n._extra.sensitivity),e.changedTouches?(l=[e.changedTouches[0].pageX,e.changedTouches[0].pageY],c=[e.changedTouches[0].clientX,e.changedTouches[0].clientY]):(l=[e.pageX,e.pageY],c=[e.clientX,e.clientY]),Math.abs(l[0]-f[0])<=h&&Math.abs(l[1]-f[1])<=h&&(e.type=s,e.pageX=l[0],e.pageY=l[1],e.clientX=c[0],e.clientY=c[1],e.currentTarget=o.node,r.fire(e)),a(n,[u.END,u.CANCEL])}})},"3.16.0",{requires:["node-base","event-base","event-touch","event-synthetic"]});
YUI.add("better-throttle",function(e){"use strict";function t(t,n,r,i){function u(){o&&(o.cancel(),o=undefined)}function a(){u(),t.apply(r,arguments)}function f(){var t=(new Date).getTime();if(i)u();else if(t-s>n){s=t,a.apply(r,arguments);return}o||(o=e.later(n,r,a,arguments))}var s,o;return s=0,r=r||null,f}e.betterThrottle=t},"@VERSION@",{requires:["yui-later"]});
YUI.add("global-events",function(e){"use strict";function r(t){t in e.Node.DOM_EVENTS||(e.Node.DOM_EVENTS[t]=null)}function i(i,s){var o=t[i],u;if(o)return o.bound||(r(o.type),o.throttle?o.handle=e.one(o.target).on(o.type,e.betterThrottle(function(t){e.fire(i,{e:t})},o.throttle)):o.handle=e.one(o.target).on(o.type,function(t){e.fire(i,{e:t})}),n[i]=[],o.bound=!0),u=e.on(i,s),u.origDetach=u.detach,u.detach=function(){this.detach=this.origDetach,delete this.origDetach,e.globalEvents.unsubscribe(this)}.bind(u),n[i].push(u),u;throw new Error("global event name: '"+i+"' does not exist")}function s(e){var r=e.evt.type,i=n[r].indexOf(e);e.origDetach&&(e.detach=e.origDetach),i!==-1&&(e.detach(),n[r].splice(i,1),n[r].length===0&&(t[r].handle.detach(),t[r].bound=!1))}var t={"window:click":{type:"click",target:window},"window:resize":{type:"resize",target:window,throttle:100},"window:scroll":{type:"scroll",target:window,throttle:100},"window:scroll:nothrottle":{type:"scroll",target:window,throttle:0},"window:keydown":{type:"keydown",target:window,throttle:0},"window:blur":{type:"blur",target:window,throttle:0},"document:fullscreenchange":{type:function(){if("onfullscreenchange"in document)return"fullscreenchange";if("onwebkitfullscreenchange"in document)return"webkitfullscreenchange";if("onmozfullscreenchange"in document)return"mozfullscreenchange";if("onmsfullscreenchange"in document)return"MSFullscreenChange"}(),target:document}},n={};e.globalEvents={subscribe:i,unsubscribe:s}},"@VERSION@",{requires:["event","node","better-throttle"],affinity:"client"});
"undefined"!=typeof YAHOO&&YAHOO||(YAHOO={}),YAHOO.i13n=YAHOO.i13n||{},YAHOO.i13n.EventTypes=function(){function e(e,t,n){this.yqlid=e,this.eventName=t,this.spaceidPrefix=n}var t="richview",n="contentmodification";e.prototype={getYQLID:function(){return this.yqlid},getEventName:function(){return this.eventName}};var r={pageview:new e("pv","pageview",""),simple:new e("lv","event","P"),linkview:new e("lv","linkview","P"),richview:new e(t,t,"R"),contentmodification:new e(t,n,"R"),dwell:new e("lv","dwell","D")};return{getEventByName:function(e){return r[e]}}}(),YAHOO.i13n.Rapid=function(e){function t(){}function n(e){this.map={},this.count=0,e&&this.absorb(e)}function r(){this.map={},this.count=0}function i(e,t){if(!e)return null;null===t&&(t=!1);var n=new r,i=U.getAttribute(e,U.data_action_outcome);i&&n.set("outcm",i);var s=U.getAttribute(e,"data-ylk");if(null===s||0===s.length)return n;for(var o=s.split(U.ylk_pair_delim),u=0,a=o.length;a>u;u++){var f=o[u].split(U.ylk_kv_delim);if(2===f.length){var l=f[0],c=f[1];null!==l&&""!==l&&null!==c&&(c.length>U.MAX_VALUE_LENGTH&&(c=c.substring(0,U.MAX_VALUE_LENGTH)),l.length<=8&&c.length<=U.MAX_VALUE_LENGTH&&("_p"!==l||t)&&n.set(l,c))}}return n}function s(e,t,n){return t>e?t:e>n?n:e}function o(t,n){R.set("A_sid",YAHOO.i13n.A_SID||U.rand()),R.set("_w",U.rmProto(n).substring(0,U.MAX_VALUE_LENGTH)),t?R.absorb(t):e.keys&&R.absorb(e.keys)}function u(e){var t=(YAHOO.i13n,YAHOO.i13n.TEST_ID||e.test_id),n=e.location||document.location.href;o(e.keys,n),t&&(t=U.norm(""+t));var r=300,i=700,u=1e4,a=e.override||{},f={override:a,version:"3.39.1",keys:R,referrer:e.referrer,getReferrer:function(){return U.norm(U.clref("undefined"!=typeof this.referrer?this.referrer:document.referrer))},spaceid:U.norm(a.spaceid||YAHOO.i13n.SPACEID||e.spaceid),yrid:U.norm(e.yrid||""),oo:e.oo?"1":"0",nol:e.nol?"1":"0",yql_enabled:e.yql_enabled!==!1,fing:1==e.use_fing,USE_RAPID:e.use_rapid!==!1,linktrack_attribut:e.lt_attr||"text",tracked_mods:e.tracked_mods||[],tracked_mods_viewability:e.tracked_mods_viewability||[],viewability:e.viewability||!1,viewability_time:e.viewability_time||300,viewability_px:e.viewability_px||50,lt_attr:e.lt_attr||"text",client_only:e.client_only,text_link_len:e.text_link_len||-1,test_id:t,yql_host:e.yql_host||"geo.query.yahoo.com",yql_path:e.yql_path||"/v1/public/yql",click_timeout:e.click_timeout||u,compr_timeout:e.compr_timeout||i,compr_on:e.compr_on!==!1,compr_type:e.compr_type||"deflate",webworker_file:YAHOO.i13n.WEBWORKER_FILE||e.webworker_file||"rapidworker-1.2.js",nofollow_classname:e.nofollow_class||"rapidnofollow",no_click_listen:e.rapid_noclick_resp||"rapid-noclick-resp",nonanchor_track_class:e.nonanchor_track_class||"rapid-nonanchor-lt",anc_pos_attr:"data-rapid_p",anc_v9y_attr:"data-v9y",deb:e.debug===!0,ldbg:e.ldbg>0?!0:n.indexOf("yhldebug=1")>0,addmod_timeout:e.addmodules_timeout||300,ult_token_capture:"boolean"==typeof e.ult_token_capture?e.ult_token_capture:!1,track_type:e.track_type||"data-tracktype",dwell_on:e.dwell_on===!0,prerender:e.prerender===!0,query_parameters:e.query_parameters===!0,async_all_clicks:e.async_all_clicks===!0,click_postmsg:e.click_postmsg||{},apv:e.apv!==!1,apv_time:e.apv_time||500,apv_px:e.apv_px||500,apv_always_send:e.apv_always_send===!0,ex:e.ex===!0,persist_asid:e.persist_asid===!0,track_right_click:e.track_right_click===!0,gen_bcookie:e.gen_bcookie===!0,skip_attr:e.skip_attr||"data-rapid-skip",parse_dom:e.parse_dom===!0,pageview_on_init:e.pageview_on_init!==!1,perf_navigationtime:e.perf_navigationtime||0,perf_commontime:e.perf_commontime||null,perf_usertime:e.perf_usertime||null,perf_resourcetime:e.perf_resourcetime||0,sample:e.sample||{},loc:n,fpc:e.fpc===!0,extendbcookie:e.extendbcookie===!0},c=1*f.compr_timeout;return U.isNum(c)?f.compr_timeout=s(c,r,i):f.compr_timeout=i,f.ldbg&&f.click_timeout!=u&&l("Click timeout set to "+f.click_timeout+"ms (default 10000ms)"),e.apv_callback&&"function"==typeof e.apv_callback?f.apv_callback=e.apv_callback:f.apv_callback=null,f}function a(){R.set("A_sid",U.rand())}function f(){return"Rapid-"+X.version+"("+(new Date).getTime()+"):"}function l(e){X.ldbg&&console.warn("RAPID WARNING: "+e)}function c(e){X.ldbg&&console.error("RAPID ERROR: "+e)}function h(e){X.ldbg&&console.log(f()+e)}function p(){var e=document.cookie;if(this.cookieMap={},/[^=]+=[^=;]?(?:; [^=]+=[^=]?)?/.test(e))for(var t=e.split(/;\s/g),n=null,r=null,i=null,s=0,o=t.length;o>s;s++){if(i=t[s].match(/([^=]+)=/i),i instanceof Array)try{n=U.dec(i[1]),r=U.dec(t[s].substring(i[1].length+1))}catch(u){c(u)}else n=U.dec(t[s]),r=n;"B"!==n&&"BX"!==n&&"TT"!==n&&"D"!==n&&"_ga"!==n&&"yx"!==n&&"rxx"!==n||(this.cookieMap[n]=r)}U.clearCookie("rx","/",U.isIE?document.domain:"")}function d(){if(X.ult_token_capture&&YAHOO.i13n.__handled_ult_tokens__!==!0){YAHOO.i13n.__handled_ult_tokens__=!0;var e=X.loc;if(e.match(/;_yl[a-z]{1}=/))X.ldbg&&h("Found ULT Token on URL."),V.sendGeoT(e);else{var t=new p,n=t.getCookieByName("D");n&&(U.clearCookie("D","/",".yahoo.com"),V.sendGeoT(n))}}}function v(){function e(){t=(new Date).valueOf().toString(),n=t.length}var t=null,n=null;return e(),{ts:t.substr(0,n-3),ms:t.substr(n-3)}}function m(e,t,n,r){var i=new Date,s="";i.setTime(i.getTime()+1e3*n),s="; expires="+i.toGMTString();var o="";r&&(o=";domain="+r);var u=e+"="+t+s+o+"; path=/";document.cookie=u}function g(){function e(e,t){X.ldbg&&h(e);var n=new Image,r=null;n.onload=n.onabort=n.onerror=function(){t&&"function"==typeof t&&(clearTimeout(r),t.call(null))},n.src=e,t&&"function"==typeof t&&(r=setTimeout(function(){t.call(null)},X.click_timeout)),setTimeout(function(){n=null},1e7)}function t(){return"rapid_if_"+U.rand()}function r(e){var t="display:none;";!U.isIE||6!==U.ieV&&7!==U.ieV&&8!==U.ieV?U.sa(e,"style",t):e.style.setAttribute("cssText",t,0)}function i(e){var t=null;if(U.isIE&&U.ieV<=8){var n="";U.isSecure()&&6==U.ieV&&(n='src="https://geo.yahoo.com/b.html"'),t=document.createElement("<iframe "+n+' name="'+e+'"></iframe>')}else t=document.createElement
("iframe");return t.name=e,t}function s(){setTimeout(function(){var e=i("");U.addEvent(e,"load",function(){U.rmBodyEl(e)}),U.appBodyEl(e)},1)}function o(e,n){var o=null,a=U.make("form"),f=U.make("input"),l=t(),c=t(),p="application/x-www-form-urlencoded;charset=UTF-8";o=i(l),r(o),r(a),a.id=c,a.method="POST",a.action=u(n),a.target=l,U.isIE&&U.ieV<=7?a.setAttribute("enctype",p):(a.setAttribute("enctype",p),a.setAttribute("encoding",p)),f.name="q",f.value=e,U.isIE&&U.ieV>=10&&(f.type="submit"),a.appendChild(f);var d="load",v=function(){var e="";if(X.ldbg&&(!U.isIE||U.ieV>=9)){var t=o.contentDocument||o.contentWindow.document;e=t.body.innerHTML}U.rmEvent(o,d,v),setTimeout(function(){U.rmBodyEl(o),U.rmBodyEl(a)},0),X.ldbg&&h("iframe resp: "+e),U.isIE&&U.ieV<=7&&s()};U.addEvent(o,d,v),U.appBodyEl(o),U.appBodyEl(a),a.submit()}function u(e){var t=X.deb,n=U.rand(),r=["http:"===window.location.protocol?"http://":"https://",X.yql_host,X.yql_path,"?yhlVer=2&yhlClient=rapid&yhlS=",X.spaceid,t===!0?"&yhlEnv=staging":"",t===!0||X.ldbg?"&debug=true&diagnostics=true":"",U.isIE&&U.ieV?"&yhlUA=ie"+U.ieV:"",U.isIE&&8==U.ieV?"&format=json":"","&yhlCT=2","&yhlBTMS=",(new Date).valueOf(),"&yhlClientVer=",X.version,"&yhlRnd=",n,"&yhlCompressed=",e||0,X.gen_bcookie?"&yhlBcookie=1":""].join("");return X.ldbg&&h(r),r}function a(t){var r=new n(t);e(C("p",r,1197799914))}function f(e,t){var n=u(t);try{var r=U.getXHR();r.open("POST",n,!0),r.withCredentials=!0,r.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),X.ldbg&&(r.onreadystatechange=function(){4===r.readyState&&h(r.status+":xhr response: "+r.responseText)}),r.send(e)}catch(i){a({_err_nm:"sendToYQL Failed",_err_msg:"sendToYQL Failed",_err_rs:String(i),_err_st:i.stack,urlUsed:n})}}function p(e,t,n){var r={};return U.isObj(e)?(U.aug(r,e,n),r):r}function d(e,t,n){n=n||{};var r={m:U.norm(e.moduleName),l:[]};e.moduleYLK&&(r.ylk=e.moduleYLK.getAll());for(var i=r.ylk&&r.ylk.sec?r.ylk.sec:"",s=e.links,s=e.links,o=function(e,n){var s="_p"===e;return t&&s?!0:"sec"==e&&n!=r.m&&n!=i?!0:"sec"!==e&&!s},u=0,a=s.length;a>u;u++)s[u]&&(!X.viewability||s[u].viewable?r.l.push(p(s[u].data,t,o)):X.ldbg&&h("Skipping not viewable link: "+s[u].data.slk));return r}function m(e,t,n){var r=[],i=null;for(var s in e)if(U.hasOwn(e,s)&&(i=e[s])){var o=d(i,t,n);o.l.length>0?r.push(o):X.ldbg&&h('Not capturing 0 links mod: "'+i.moduleName+'"')}return r}function g(e,t){return e?"pv":t&&t.event?t.event.type.getYQLID():"lv"}function y(e,t,n,r,i){var s;return s=K?nt:v(),[{t:g(t,i),s:X.spaceid,pp:b(t,r).getAll(),_ts:s.ts,_ms:s.ms,lv:m(e,n,i)}]}function b(e,t){var r=n.makeFromPP(X.keys);return r.absorb(t),e&&r.set("A_",1),r}function w(e,t,n){var r="select * from x where a = '"+e+"'";return(t?"q=":"")+(n?U.enc(r):r)}function E(e){var t={bp:O().getAll(),r:e.call(0),yrid:X.yrid,optout:X.oo,nol:X.nol};return U.toJSON(t)}function S(e,t,n){var r={};n.event&&U.aug(r,n.event.data),n.pp&&U.aug(r,n.pp);var i=E(function(){return y([e],t,!0,r,n)});N(i,t)}function x(e,t,n,r){var i=E(function(){return y(e,t,!0,n,r)});N(i)}function T(e){return e.identifier}function N(e){function t(e,t){0===t&&(e=e.replace(/'/g,"\\'")),r&&h("body: "+e),U.hasCORS()?(i=w(e,!0,!0),f(i,t)):(i=w(e,0,0),o(i,t))}function n(){a||(a=!0,t(e,0),r&&h("sent in failSend"))}var r=X.ldbg,i="",s=W[X.compr_type];if(X.compr_on&&U.hasWorkers()&&s>1&&e.length>2048){r&&h("Looking for worker:"+X.webworker_file+", compr timeout:"+X.compr_timeout);try{var u=new Worker(X.webworker_file),a=!1,c=null,p=0;u.onerror=function(e){clearTimeout(c),n(),l(e.message),u.terminate()},u.onmessage=function(i){clearTimeout(c);var o=U.tms();"Decompress fail"!==i.data&&"Compress fail"!==i.data&&0!=i.data.indexOf("error:")||(r&&h(i.data),n()),a||(a=!0,t(i.data,s)),r&&h("Ratio ("+i.data.length+"/"+e.length+"): "+(100*i.data.length/e.length).toFixed(2)+"% -> C_T: "+(o-p)+" ms ("+o+"-"+p+")"),u.terminate()},r&&h("posting to worker: "+e),p=U.tms(),u.postMessage({type:s,json:e}),c=setTimeout(function(){n(),u.terminate()},X.compr_timeout)}catch(d){r&&h("compression worker exception "+d),t(e,0)}}else t(e,0)}function C(e,t,n){return("http:"===window.location.protocol?"http://":"https://")+A+"/"+e+["?s="+(n?n:X.spaceid),"t="+U.rand()+","+Math.random(),"_I="+X.yrid,"_AO="+X.oo,"_NOL="+X.nol,"_R="+U.enc(X.getReferrer()),("c"===e?"_K=":"_P=")+k(t)].join("&")}function k(e){var t=new n(O(!1).getAll());t.absorb(X.keys.getAll()),e&&(e instanceof n?t.absorb(e.getAll()):c("Internal error in buildGeoPP: not PP type"));var r;return r="dwell,start"===t.get("etag")?nt:"dwell,stop"===t.get("etag")?rt:v(),t.set("_ts",r.ts),t.set("_ms",r.ms),X.version+"%05"+t.ser()}function L(e){var t=new n(e.pp),r=[C("c",t)+"&_C="+U.ser(e.data)];return r.join("&")}var A=YAHOO.i13n.beacon_server||"geo.yahoo.com",O=function(e){var t=new n;t.set("_pl",1),t.set("A_v",X.version);var r=X.getReferrer();if(r&&e!==!1&&t.set("_R",r.substring(0,U.MAX_VALUE_LENGTH)),X.test_id&&t.set("test",X.test_id),X.ex&&t.set("_ex",1),t.get("_bt")||t.set("_bt","rapid"),X.query_parameters){var i=/^(test|outcm|etrg|usergenf|etag|sec|slk|tar|tar_uri|yhldebug|tsrc|action)$|^(A_|_)/,s=document.location.search;if(s){s=s.substring(1),s=s.split("&");for(var o in s)if(s.hasOwnProperty(o)){var u=s[o].split("=");if(u.length>=2){var a=decodeURIComponent(u[0]),f=decodeURIComponent(u[1]),l=!i.test(a);h("Queryparams decoded: "+a+" : "+f),h("Blacklist filter: "+l),l&&t.set(a,f)}}}}var c=window.location.protocol||"";c=c.replace(/:$/,""),t.set("A_pr",c);var p=(new Date).getTimezoneOffset();return p=p?-1*p/60:0,t.set("A_tzoff",p),t},M=function(){var e=null,t=[],n=0,r=X.addmod_timeout;return function(i,s,o,u){clearTimeout(e);var a=+(new Date)-n;if(t=U.uniqConcat(t,i,T),a>r)n=+(new Date),x(t,s,o,u),t=[];else{var f=r-a;e=setTimeout(function(){X.ldbg&&h("queueing send in addMods"),x(t,s,o,u),t=[]},f)}}}();return{sendGeoT:function(t){var n=["http:"===window.location.protocol?"http://":"https://",A,"/t?",t].join("");e(n)},sendGeoPV:function(
){e(C("b"))},sendRapidNoDelay:function(t,r,i,s,o){if(r&&K&&K.start_dwell()&&(i.etag="dwell,start",i.usergenf=1,i.A_prets=rt?rt.ts:null,i.A_prems=rt?rt.ms:null),!X.yql_enabled||o){var u=null;i&&(u=new n(i)),e(C(r?"b":"p",u))}else x(t,r,i,s)},sendRapid:function(e,t,n,r){t&&K&&K.start_dwell()&&(n.etag="dwell,start",n.usergenf=1,n.A_prets=rt?rt.ts:null,n.A_prems=rt?rt.ms:null),M(e,t,n,r)},sendRefreshedContent:S,sendULTEvent:function(t,r){var i={};t&&t.data&&(i=t.data);var s=C("p",new n(i),r||0);t.type&&(s+="&_V="+t.type.spaceidPrefix),e(s)},sendEvents:function(e,t){X.USE_RAPID&&this.sendULTEvent(e)},sendClick:function(t,n){var r=null,i="",s=!1;return X.USE_RAPID&&(i=L(t)),X.async_all_clicks||!t.synch?void (i&&e(i,n)):(U.prevDef(t.event),r=function(){if(!s){if(s=!0,n)return void n.call();var e=t.targetElement.href;if(X.click_postmsg.origin){var r=X.click_postmsg.window||top,i=X.click_postmsg.payload||{};i.href=e,r.postMessage(U.toJSON(i),X.click_postmsg.origin)}else t.hasTargetTop?top.document.location=e:document.location=e}},void (X.USE_RAPID&&e(i,r)))}}}function y(e,t,n,r,s,o,u){var a="",f=null,l=u?U.isAboveFold(r):!0,c={viewable:l,data:{sec:t,_p:n}};return u&&U.aug(c.data,{A_lv:1}),o?(c.data.slk=s||"section",f=i(r)):(r.setAttribute(X.anc_pos_attr,n),u&&r.setAttribute(X.anc_v9y_attr,l?"1":"0"),a=U.getLT(r,e),a&&""!==a?f=i(r):a="_ELINK_",c.data.slk=s?s:a),null!==f&&U.aug(c.data,f.getAll()),c}function b(){var e={};return{addModule:function(t,n){e[U.norm(t)]=n},addModules:function(e,t){var n=U.isArr(e),r=[];n||U.isStr(e)&&(e=new Array(e),n=!0);for(var i in e)if(U.hasOwn(e,i)){var s=n?e[i]:i,o=U.trim(e[i]);if(this.exists(s))c('addModules() called with prev processed id:"'+s+'"');else{var u=A(o,s,t);u&&(this.addModule(s,u),r.push(u))}}return r},getModules:function(){return e},getModulesWithViewability:function(){var t={};for(var n in e){var r=e[n];r.useViewability&&(t[n]=r)}return t},reevaluateModuleViewability:function(){var e=this.getModulesWithViewability();for(var t in e){var n=e[t];n.reevaluateViewableLinks()}},refreshModule:function(t,n,r,i){var s=e[U.norm(t)];s?s.refreshModule(t,n,r,i):c("refreshModule called on unknown section: "+s)},removeModule:function(t){var n=e[U.norm(t)];n&&(n.removeHandlers(),delete e[t])},destroy:function(){for(var t in e)U.hasOwn(e,t)&&this.removeModule(t);e={}},exists:function(t){return e[U.norm(t)]}}}function w(e,t){return U.hasClass(e,"rapid_track_href")?"href":U.hasClass(e,"rapid_track_text")?"text":U.hasClass(e,"rapid_track_title")?"title":U.hasClass(e,"rapid_track_id")?"id":t}function E(e){return"input"===e.nodeName.toLowerCase()&&"submit"===U.getAttribute(e,"type")}function S(e,t){var n=N(e,t);Q=n,n&&(e.ctrlKey||e.metaKey||K&&K.stop_dwell()&&(n.pp={etag:"dwell,stop",usergenf:1,A_prets:nt?nt.ts:null,A_prems:nt?nt.ms:null},K.destroy()),V.sendClick(n))}function x(e,t,n){var r=U.getAttribute;return t.target&&"_blank"===t.target.toLowerCase()||2===e.which||4===e.button||e.altKey||e.ctrlKey||e.shiftKey||e.metaKey||"on"===r(t,"data-nofollow")||r(t,"href")&&"javascript:"===r(t,"href").substr(0,11).toLowerCase()||U.hasClass(t,X.nofollow_classname)||U.hasClass(n,X.nofollow_classname)}function T(e,t,n,r){n=n||{};var i=null;return e?(i=YAHOO.i13n.EventTypes.getEventByName(e),n._E=i.getEventName(),t=n._E):n._E=t||"_",r&&(n.outcm=r),{type:i,name:t,data:n,outcome:r}}function N(e,t){e=e||event;for(var n=U.getTarget(e),r="button",s="input",o="",u=!1,a=null;n&&(o=n.nodeName.toLowerCase())&&"a"!==o&&o!==r&&!E(n)&&!U.hasClass(n,X.nonanchor_track_class);)n=n.parentNode;if(!n||U.hasClass(n,X.no_click_listen))return 0;if(U.hasClass(n,X.nonanchor_track_class)){a={pos:0,sec:t.moduleName,slk:"_"};var f=i(n,1);f&&U.aug(a,f.getAll())}else{var l=U.getAttribute(n,X.anc_pos_attr);if(a=t.getLinkAtPos(l),!a)return 0;a=a.data,o===s||o===r||x(e,n,t.moduleElement)||(u=!0)}if(!a.tar){var c=U.getAttribute(n,"href");c&&(a.tar=U.extDomain(c)),c&&a.tar||(a.tar=U.extDomain(X.loc))}a.tar_uri||(n.pathname?a.tar_uri=n.pathname.substring(0,U.MAX_VALUE_LENGTH):a.tar_uri="");var h=t.moduleYLK;if(h){var p=h.getAll();U.aug(a,p,function(e){return!(e in a)})}return a.A_xy=U.xy(e),a.A_sr=U.sr(),"contextmenu"==e.type&&(a.A_cl=3,u=!1),{data:a,event:e,moduleElement:t.moduleElement,targetElement:n,synch:u,hasTargetTop:n&&n.target&&"_top"===n.target.toLowerCase()}}function C(e,t,n,r,i){var s={};return U.aug(s,r),s.sec=e,s.slk=t,s._p=n,{data:s,outcome:i,event:null,moduleElement:null,targetElement:null,synch:!1,hasTargetTop:!1}}function k(e,t,n){t||(t=document);for(var r=e.split(","),i=[],s=0,o=r.length;o>s;s++)for(var u=t.getElementsByTagName(r[s]),a=0,f=u.length;f>a;a++){var l=u[a];n&&!n.call(0,l)||i.push(l)}var c=i[0];return c?(c.sourceIndex?i.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):c.compareDocumentPosition&&i.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),i):[]}function L(e,t,n,r){t||(t=document);var i=e.split(",");n=n||[];var s=t.childNodes;if("true"!==U.getAttribute(t,X.skip_attr))for(var o=0,u=s.length;u>o;o++){var a=s[o];U.isTagOfInterest(a,i)&&(r&&!r.call(0,a)||n.push(a)),"true"!==U.getAttribute(a,X.skip_attr)?L(e,a,n,r):"true"===U.getAttribute(a,X.skip_attr)&&n.push(a)}var f=n[0];return f?(f.sourceIndex?n.sort(function(e,t){return e.sourceIndex-t.sourceIndex}):f.compareDocumentPosition&&n.sort(function(e,t){return 3-(6&e.compareDocumentPosition(t))}),n):[]}function A(e,t,n){function r(t,r){var s=[];r=r||1;for(var o=0,a=t.length;a>o;o++)if("div"===t[o].tagName.toLowerCase()){var l=t[o],h=i(l),p=y(d,f.map.sec||e,1,l,h.map.slk||f.map.slk,!0,n);c[0]=p,s.push(p)}else{var v=t[o],p=y(d,f.map.sec||e,r,v,f.map.slk,0,n);c[r-1]=p,s.push(p),r++}if("true"===U.getAttribute(u,X.skip_attr)){var p=y(d,f.map.sec||e,1,l,f.map.slk,!0,n);c[0]=p,s.push(p)}return s}function s(t){for(var n=[],r=0,i=t.length;i>r;r++){var s=t[r],o=U.getAttribute(s,X.anc_pos_attr),u=y(d,f.map.sec||e,o,s,f.map.slk,0,!0);n.push(u)}return n}function o(e){return!U.getAttribute(e,X.anc_pos_attr)}var u=document.getElementById
(t),a="a,button,input";if(!u)return l("Specified module not in DOM: "+t),null;var f=i(u),c=[],p=X.parse_dom?L(a,u):k(a,u),d=w(u,X.lt_attr),v=p.length,m=U.getAttribute(u,X.track_type);r(p);var g={useViewability:n,moduleYLK:f,links:c,moduleName:e,trackType:m,moduleElement:u,refreshModule:function(e,t,i,s){s.isRefreshed=!0;var u=X.parse_dom?L(a,U.$(e),null,o):k(a,U.$(e),o);if(t===!0||u.length>0){var f=r(u,v+1);v+=u.length;var l=u.length;if(n){l=0;for(var c=0,p=f.length;p>c;c++)f[c].viewable&&l++}if((t===!0||l>0)&&(X.USE_RAPID||s.event)){var d={};U.aug(d,this),i?d.links=f:d.links=[],(t===!0||i)&&V.sendRefreshedContent(d,t,s)}}else U.ldbg&&h("refreshModule("+e+") - no new links.");t===!0&&X.apv&&$&&$.reInit()},reevaluateViewableLinks:function(){var t=c.length,n=k("a",this.moduleElement,function(t){return function(n){if(!U.getAttribute(n,X.anc_pos_attr)){t++,n.setAttribute(X.anc_pos_attr,t);var r=y(d,f.map.sec||e,t,n,f.map.slk,0,!1);c[t-1]=r}var i=U.getAttribute(n,X.anc_v9y_attr);return"1"!==i&&U.isAboveFold(n)?(n.setAttribute(X.anc_v9y_attr,"1"),!0):!1}}(t));if(0!==n.length&&X.USE_RAPID){var r=s(n),i={};U.aug(i,this),i.links=r,V.sendRefreshedContent(i,!1,{})}},removeHandlers:function(){U.rmEvent(u,"click",b),X.track_right_click&&U.rmEvent(u,"contextmenu",b)},getLinkAtPos:function(e){return e>c.length?null:c[e-1]},identifier:t},b=function(e){S(e,g)};return U.addEvent(u,"click",b),X.track_right_click&&U.addEvent(u,"contextmenu",b),g}function O(e,t,n){X.ldbg&&h("beaconPageview called, pp="+U.fData(e)),t&&!X.persist_asid&&a(),(X.USE_RAPID||X.apv_always_send&&U.hasOwn(e,"A_apv"))&&V.sendRapidNoDelay([],!0,e,null,n),X.apv&&null!=$&&$.reInit()}function M(e,t,n,r){X.ldbg&&h('beaconEvent: event="'+e+'" data='+U.fData(t)+" outcome="+n);var i=T(0,e,t,n);V.sendEvents(i,r)}function _(){var e=null,t=(new Date).getTime(),n=t,r=U.getScrollY(),i=-1,s=function(){var e=U.getScrollY(),t=-1===i?e-r:e-i;Math.abs(t)>X.viewability_px&&(z.reevaluateModuleViewability(),i=e,n=(new Date).getTime())},o=function(){null!=e&&clearTimeout(e);var i=(new Date).getTime();i-t<X.viewability_time&&(r=U.getScrollY(),n=i),e=setTimeout(function(){s()},X.viewability_time)};U.addEvent(window,"scroll",o),this.reInit=function(){r=U.getScrollY(),i=-1,t=n=(new Date).getTime()},this.destroy=function(){U.rmEvent(window,"scroll",o)}}function D(){var e=null,t=lastApvTime=(new Date).getTime(),n=U.getScrollY(),r=-1,i=function(){var e=U.getScrollY(),t=-1===r?e-n:e-r,i=t>0?0:1;if(Math.abs(t)>X.apv_px){var s={A_apv:1,A_apx:e,A_asd:i};O(s,!1,!0),r=e,lastApvTime=(new Date).getTime(),X.apv_callback&&X.apv_callback.call(this,{pixel_pos:e,scroll_dir:i})}},s=function(){null!=e&&clearTimeout(e);var r=(new Date).getTime();r-t<X.apv_time&&(n=U.getScrollY(),lastApvTime=r),e=setTimeout(function(){i()},X.apv_time)};U.addEvent(window,"scroll",s),this.reInit=function(){n=U.getScrollY(),r=-1,t=lastApvTime=(new Date).getTime()},this.destroy=function(){U.rmEvent(window,"scroll",s)}}function P(){var e={focus:{state:"start",etrg:"show",etag:"dwell,start",jse:"window.focus"},pageshow:{state:"start",etrg:"show",etag:"dwell,start",jse:"window.pageshow"},"visibilitychange-visible":{state:"start",etrg:"show",etag:"dwell,start",jse:"document.visibilitychange"},blur:{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"window.blur"},pagehide:{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"window.pagehide"},"visibilitychange-hidden":{state:"stop",etrg:"hide",etag:"dwell,stop",jse:"document.visibilitychange"},beforeunload:{state:"stop",etrg:"close",etag:"dwell,stop",jse:"window.beforeunload"}},t="start";nt=v();var n,r;"undefined"!=typeof document.hidden?(n="hidden",r="visibilitychange"):"undefined"!=typeof document.mozHidden?(n="mozHidden",r="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(n="msHidden",r="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(n="webkitHidden",r="webkitvisibilitychange");var i=function(i){var s="",o=i.type;if(i.type==r&&(o=document[n]?"visibilitychange-hidden":"visibilitychange-visible"),U.hasOwn(e,o)&&(s=e[o].state),0!=s.length){if(t==s)return void h("dwell: -- state already "+t+" (event="+o+")");t=s;var u=e[o];h("dwell: change state to "+t+" (event="+o+")");var a={etrg:u.etrg,outcm:"window",usergenf:1,etag:u.etag,A_jse:u.jse};"start"===t&&(nt=v(),null!=rt&&(a.A_prets=rt.ts,a.A_prems=rt.ms)),"stop"===t&&(rt=v(),null!=nt&&(a.A_prets=nt.ts,a.A_prems=nt.ms)),M("dwell",a,"")}};for(var s in e)e.hasOwnProperty(s)&&U.addEvent(window,s,i);U.addEvent(window,r,i),this.set_state=function(e){t=e},this.start_dwell=function(){return"start"===t?(h("dwell: -- state already "+t),!1):(t="start",nt=v(),!0)},this.stop_dwell=function(){return"stop"===t?(h("dwell: -- state already "+t),!1):(t="stop",rt=v(),!0)},this.destroy=function(){for(var t in e)e.hasOwnProperty(t)&&U.rmEvent(window,t,i);U.rmEvent(window,r,i)}}function H(e,t){var r=10;if(window.performance&&window.performance.timing){var i=e?e.perf_navigationtime||0:X.perf_navigationtime||0,s=e?e.perf_resourcetime||0:X.perf_resourcetime||0,o=e?e.perf_commontime||null:X.perf_commontime||null,u=e?e.perf_usertime||null:X.perf_usertime||null;if(!(1>i&&1>s)||o||u){var a=U.hasOwn(X.sample,"perf_navigationtime")?X.sample.perf_navigationtime:100,f=U.hasOwn(X.sample,"perf_resourcetime")?X.sample.perf_resourcetime:100,l=U.samplingSuccess(a),c=U.samplingSuccess(f);if(l||c){if(0===window.performance.timing.loadEventStart){if(tt+=r,tt>200)return;return void setTimeout(function(){H(e,t)},r)}var h=B(i,s,o,u,l,c),p=new n(h);"object"==typeof t&&p.absorb(t);var d=T(0,"pageperf",p.getAll(),"");V.sendEvents(d)}}}}function B(e,t,n,r,i,s){var o={},u=window.performance.timing;if(i&&e>0&&(j(u.responseStart,u.connectEnd,o,"A_pfb"),j(u.responseEnd,u.responseStart,o,"A_pbp"),j(u.responseEnd,u.requestStart,o,"A_psr"),j(u.loadEventStart,u.navigationStart,o,"A_pol"),j(u.domInteractive,u.navigationStart,o,"A_pdi")),i&&e>1&&(j(u.redirectEnd,u.redirectStart,o,"A_prd"),j(u.domainLookupEnd,u.domainLookupStart,o,"A_pdl"),j(u.connectEnd
,u.secureConnectionStart,o,"A_psh"),j(u.connectEnd,u.connectStart,o,"A_psc"),j(u.loadEventStart,u.responseEnd,o,"A_pfe")),s&&t>0&&"undefined"!=typeof window.performance.getEntries){var a=[],f=window.performance.getEntries();f.sort(function(e,t){return e.duration>t.duration?-1:e.duration<t.duration?1:0});for(var l=f.slice(0,10),c=l.length,h=0;c>h;h++){var p={},d=l[h].name.replace(/\?.+$/,"");d=d.replace(/^.+\//,""),p.name=d,p.dur=Math.floor(l[h].duration),p.st=Math.floor(l[h].startTime),a.push(p)}o.A_res=U.sfy(a)}if(n&&(U.hasOwn(n,"initialPageLoad")&&(o.A_cmi=U.sfy(n.initialPageLoad)),U.hasOwn(n,"afterPageLoad")&&(o.A_cma=U.sfy(n.afterPageLoad))),r)for(var v=["utm"],h=0;h<v.length;h++)U.hasOwn(r,v[h])&&(o.A_utm=U.sfy(r[v[h]]));return o.etrg="backgroundPost",o.outcm="performance",o.usergenf=0,o.etag="performance",o}function j(e,t,n,r){if(e&&t){var i=e-t;n[r]=i}}function F(){if("prerender"==document.visibilityState){var e={etrg:"prerender",outcm:"page",usergenf:0,etag:"prerender"},t=T(0,"prerender",e,"");V.sendEvents(t)}}function I(){X.dwell_on&&(K=new P),d(),X.ldbg&&h("tracked_mods: "+U.fData(X.tracked_mods));var e=z.addModules(X.tracked_mods,!1),t=z.addModules(X.tracked_mods_viewability,X.viewability);X.USE_RAPID&&X.pageview_on_init&&V.sendRapidNoDelay(e.concat(t),1==X.client_only),X.prerender&&F(),U.executeOnLoad(function(){J=new _,X.apv&&($=new D),H(),_initTimeStamp=null,X.extendbcookie&&G.extendBCookie()})}function q(e){var t=navigator.userAgent,n=Object.prototype,r=t.match(/MSIE\s[^;]*/)||t.match(/Trident\/[^;]*/)?1:0,i=/KHTML/.test(t)?1:0,s=null!==t.match(/(iPhone|iPad|iPod)/gi),o=(t.indexOf("Android")>-1,s&&null!==t.match(/AppleWebKit/)),u=null!==t.match(/AppleWebKit/)&&null===t.match(/Chrome/),a=new RegExp(/\ufeff|\uffef|[\u0000-\u001f]|[\ue000-\uf8ff]/g),f=new RegExp(/[\u007f-\u00a0]|\s{2,}/g),l="http://",h="https://",d="class",v=" ",m=-1,g=300,y=["A_res","A_cmi","A_cma","A_utm"],b=-1,w="https:"===window.location.protocol;return r&&(document.documentMode?b=document.documentMode:(b=5,document.compatMode&&"CSS1Compat"==document.compatMode&&(b=7))),{$:function(e){return document.getElementById(e)},ca:"%01",cb:"%02",cc:"%03",cd:"%04",ce:"%05",cf:"%06",cg:"%07",ch:"%08",ylk_kv_delim:e.ylk_kv_delim||":",ylk_pair_delim:e.ylk_pair_delim||";",DATA_ACTION:"data-action",data_action_outcome:"data-action-outcome",isIE:r,isIOSSafari:o,isSafari:u,isWebkit:i,ieV:b,MAX_VALUE_LENGTH:e.max_value_length||g,value_len_whitelist:y,hasOwn:function(e,t){return n.hasOwnProperty.call(e,t)},enc:encodeURIComponent,dec:decodeURIComponent,getQueryStringValue:function(e,t){return decodeURIComponent(e.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(t).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},curProto:function(){return w?h:l},isSecure:function(){return w},isScrollHorizontalVisible:function(){return document.documentElement.scrollWidth>document.documentElement.clientWidth},getCompStyle:function(e,t){return void 0!==window.getComputedStyle?window.getComputedStyle(e,t):(this.el=e,this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;return"float"==t&&(t="styleFloat"),n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()})),e.currentStyle[t]?e.currentStyle[t]:0},this)},getBorder:function(e,t){if(!e||!t)return 0;var n=parseInt(this.getCompStyle(e,null).getPropertyValue(t),10);return isNaN(n)&&(n=0),n},getElementHeight:function(e){if(!e)return 0;var t=e.offsetHeight||0;return t?t-this.getBorder(e,"border-top-width")-this.getBorder(e,"border-bottom-width"):0},getPositionTop:function(e){for(var t=0;e;)t+=e.offsetTop,e=e.offsetParent;return t},getScrollbarWidthHeight:function(){var e=this.make("div");e.style.overflow="scroll",e.style.visibility="hidden",e.style.position="absolute",e.style.width="100px",e.style.height="100px",document.body.appendChild(e);var t={width:e.offsetWidth-e.clientWidth,height:e.offsetHeight-e.clientHeight};return this.rmBodyEl(e),t},isAboveFold:function(e){if(r&&7>=b)return!0;var t=U.getCompStyle(e);if("hidden"==t.visibility||"none"==t.display)return!1;var n=e.getBoundingClientRect(),i=this.getElementHeight(e),s=.5*i;if(n.top+s<0)return!1;var o=window.innerHeight||document.documentElement.clientHeight;if(this.isScrollHorizontalVisible()){var u=this.getScrollbarWidthHeight();o-=u.height}return n.bottom-s<=o?!0:void 0},strip:function(e){for(var t={"/":"P",";":"1","?":"P","&":"1","#":"P"},n={url:e,clean:"",cookie:"",keys:[]},r=0;-1!==e.indexOf("_yl",r);){var i=e.indexOf("_yl",r);if(i>r&&(n.clean+=e.slice(r,i-1)),r=i+3,t[e.charAt(i-1)]&&"="===e.charAt(i+4)){n.ult=1;var s="_yl"+e.charAt(i+3),o="";for(i+=5;i<e.length&&!t[e.charAt(i)];i++)o+=e.charAt(i);n.keys.push(s),n[s]=o,"_ylv"!==s&&(n.cookie+="&"+s+"="+o),t[e.charAt(i)]&&"P"===t[e.charAt(i)]&&(n.clean+=e.charAt(i)),r=i+1}else n.clean+=e.slice(i-1,r)}return n.ult&&(n.cookie=n.cookie.substr(1),n.clean+=e.substr(r),"0"===n._ylv),n},prevDef:function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},appBodyEl:function(e){document.body.appendChild(e)},rmBodyEl:function(e){document.body.removeChild(e)},sa:function(e,t,n){e.setAttribute(t,n)},getScrollY:function(){var e=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return e},make:function(e,t){var n=document.createElement(e);if(t&&this.isObj(t))for(var r in t)this.sa(n,r,t[r]);return n},getXHR:function(){function e(){for(var e=!1,n=t.length,r=0;n>r;r++){try{e=t[r]()}catch(i){continue}break}return e}var t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];return e()},hasLS:function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},hasCORS:function(){return r&&10>b?!1:"withCredentials"in new XMLHttpRequest?!0:"undefined"!=typeof XDomainRequest},hasWorkers:function(){return!!window.Worker},clearCookie
:function(e,t,n){t=t?t:"/",n=n?n:"",document.cookie=e+"= ; path="+t+"; Expires=Thu, 01 Jan 1970 00:00:00 GMT; Domain="+n+";"},uniqConcat:function(e,t,n){function r(e){for(var t=0,r=e.length;r>t;t++){var o=e[t];if(o){var u=n(o);s[u]||(s[u]=1,i.push(o))}}}var i=[],s={};return r(e),r(t),i},trim:function(e){return e?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):e},extDomain:function(e){var t=e.match(/^https?\:\/\/([^\/?#]+)(?:[\/?#]|$)/i);return t&&t[1]},getAttribute:function(e,t){var n="";return document.documentElement.hasAttribute||t!==d||(t="className"),e&&e.getAttribute&&(n=e.getAttribute(t,2)),n},isDate:function(e){return"[object Date]"===n.toString.call(e)},isArr:function(e){return"[object Array]"===n.toString.apply(e)},isStr:function(e){return"string"==typeof e},isNum:function(e){return"number"==typeof e&&isFinite(e)},isNumeric:function(e){return e-0==e&&(e+"").replace(/^\s+|\s+$/g,"").length>0},isObj:function(e){return e&&"object"==typeof e},rTN:function(e){try{if(e&&3===e.nodeType)return e.parentNode}catch(t){c(t)}return e},getTarget:function(e){var t=e.target||e.srcElement;return t&&!t.nodeName&&(t=t.correspondingUseElement&&t.correspondingUseElement.parentNode?t.correspondingUseElement.parentNode:null),this.rTN(t)},addEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},rmEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},aug:function(e,t,n){if(t)for(var r in t)if(this.hasOwn(t,r)){if(n&&!n.call(null,r,t[r]))continue;e[r]=t[r]}},rmProto:function(e){return e?e.substr(0,7)===l?e.substr(7,e.length):e.substr(0,8)===h?e.substr(8,e.length):e:""},norm:function(e){return null===e?"":(e=""+e,this.trim(e.replace(f," ").replace(a,"")))},_hasClass:function(e,t){var n,r=!1;return e&&t&&(n=this.getAttribute(e,d)||"",r=t.exec?t.test(n):t&&(v+n+v).indexOf(v+t+v)>-1),r},hasClass:function(e,t){if(this.isArr(t)){for(var n=0,r=t.length;r>n;n++)if(this._hasClass(e,t[n]))return!0;return!1}return this.isStr(t)?this._hasClass(e,t):!1},quote:function(e){var t=/["\\\x00-\x1f\x7f-\x9f]/g,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},r='"',i='"';if(e.match(t)){var s=e.replace(t,function(e){var t=n[e];return"string"==typeof t?t:(t=e.charCodeAt(),"\\u00"+Math.floor(t/16).toString(16)+(e%16).toString(16))});return r+s+r}return i+e+i},sfy:function(e){if(!e&&""!==e)return{};var t,n=typeof e;if("undefined"===n)return"undefined";if("number"===n||"boolean"===n)return""+e;if("string"===n)return this.quote(e);if("function"==typeof e.toJSON)return this.sfy(e.toJSON());if(this.isDate(e)){var r=e.getUTCMonth()+1,i=e.getUTCDate(),s=e.getUTCFullYear(),o=e.getUTCHours(),u=e.getUTCMinutes(),a=e.getUTCSeconds(),f=e.getUTCMilliseconds();return 10>r&&(r="0"+r),10>i&&(i="0"+i),10>o&&(o="0"+o),10>u&&(u="0"+u),10>a&&(a="0"+a),100>f&&(f="0"+f),10>f&&(f="0"+f),'"'+s+"-"+r+"-"+i+"T"+o+":"+u+":"+a+"."+f+'Z"'}if(t=[],this.isArr(e)){for(var l=0,c=e.length;c>l;l++)t.push(this.sfy(e[l]));return"["+t.join(",")+"]"}if("object"===n){for(var h in e)if(this.hasOwn(e,h)){var p=typeof h,d=null;if("string"===p)d=this.quote(h);else{if("number"!==p)continue;d='"'+h+'"'}if(p=typeof e[h],"function"!==p&&"undefined"!==p){var v="";v=null===e[h]?'""':0===e[h]?0:this.sfy(e[h]),t.push(d+":"+v)}}return"{"+t.join(",")+"}"}},toJSON:function(){var e=null;return function(t){return e||(e="object"==typeof JSON&&JSON.stringify&&6!==b&&7!==b&&8!==b?JSON.stringify:this.sfy),e.call(this,t)}}(),executeOnLoad:function(e){var t=!1,n=function(n){(document.addEventListener||n&&"load"===n.type||"complete"===document.readyState)&&(t=!0,r(),e.call(this))},r=function(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",n,!1),window.removeEventListener("load",n,!1)):(document.detachEvent("onreadystatechange",n),window.detachEvent("onload",n))};if("complete"===document.readyState)setTimeout(n);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1);else{document.attachEvent("onreadystatechange",n),window.attachEvent("onload",n);var i=!1;try{i=null==window.frameElement&&document.documentElement}catch(s){}i&&i.doScroll&&!function o(){if(!t){try{i.doScroll("left")}catch(n){return setTimeout(o,50)}r(),e.call(this)}}()}},getLinkContent:function(e){for(var t,n=0,r="";(t=e.childNodes[n])&&t;n++)1===t.nodeType&&("img"===t.nodeName.toLowerCase()&&(r+=(this.getAttribute(t,"alt")||"")+" "),r+=this.getLinkContent(t));return r},fData:function(e){return this.isStr(e)?e:this.toJSON(e)},getLT:function(e,t){if(!e)return"_";var n="";return t=t.toLowerCase(),n="input"===e.nodeName.toLowerCase()?this.getAttribute(e,"value"):"text"===t?i?e.textContent:e.innerText?e.innerText:e.textContent:"href"===t?this.rmProto(this.getAttribute(e,"href")):this.getAttribute(e,t)||"",n=this.norm(n),""===n&&(n=this.norm(this.getLinkContent(e))),n&&n.length>U.MAX_VALUE_LENGTH&&(n=n.substring(0,U.MAX_VALUE_LENGTH)),""===n?"_":n},clref:function(e){if(0!==e.indexOf(l)&&0!==e.indexOf(h))return"";var t=this.strip(e);return t.clean||t.url},cold:function(){return screen?screen.colorDepth||screen.pixelDepth:"unknown"},sr:function(e){return screen?screen.width+(e?e:",")+screen.height:""},xy:function(e){function t(){var e=document.documentElement,t=document.body;return e&&(e.scrollTop||e.scrollLeft)?[e.scrollTop,e.scrollLeft]:t?[t.scrollTop,t.scrollLeft]:[0,0]}var n=null,i=e.pageX,s=e.pageY;return r&&(n=t()),i||0===i||(i=e.clientX||0,r&&(i+=n[1])),s||0===s||(s=e.clientY||0,r&&(s+=n[0])),i+","+s},hasCC:function(e){for(var t=0,n=e.length;n>t;t++){var r=e.charCodeAt(t);if(32>r||"="===r)return!0}return!1},isValidPair:function(e,t){return U.in_value_whitelist(e)?!0:e.length<=0||e.length>32||t.length>U.MAX_VALUE_LENGTH?(U.ldbg&&console.warn("Invalid key/value pair ("+e+"="+t+") Size must be 1-32 & 0-300 respectively."),!1):!0},ser:function(e,t){if(!e)return"";void 0===typeof t&&(t=!0);var n=[],r=""
;for(var i in e)if(this.hasOwn(e,i)){var s=i,o=e[i];if(null===s||null===o)continue;if(s+="",o+="",o&&!U.in_value_whitelist(s)&&o.length>U.MAX_VALUE_LENGTH&&(o=o.substring(0,U.MAX_VALUE_LENGTH)),!this.isValidPair(s,o))continue;if(!this.hasCC(s)&&!this.hasCC(o)){r="",o=this.trim(o),""!==o&&" "!==o||!t||(o="_");try{r=this.enc(s+""+o),r=r.replace(/'/g,"%27")}catch(u){r="_ERR_ENCODE_",c(u)}n.push(r)}}return n.join(this.cd)},rand:function(){for(var e=0,t="",n="";e++<16;){var r=Math.floor(62*Math.random());n=10>r?r:String.fromCharCode(36>r?r+55:r+61),t+=n}return t},tms:function(){return+(new Date)},cookEn:function(){var e=navigator.cookieEnabled?1:0,t="rapidtc";return"undefined"!=typeof navigator.cookieEnabled||e||(document.cookie=t+"=1",e=-1!=document.cookie.indexOf("testcookie"),document.cookie=t+"=; expires=Thu, 01 Jan 1970 00:00:01 GMT;"),e},isResCF:function(e){var t={14:1,15:1,18:1,19:1,20:1};return t[e]},isTagOfInterest:function(e,t){for(var n=0,r=t.length;r>n;n++)if(e.tagName&&e.tagName.toLowerCase()==t[n].toLowerCase())return!0;return!1},samplingSuccess:function(e){var t=function(e){for(var t=33554467,n=t,r=0,i=e.length;i>r;r++)n+=(n<<1)+(n<<4)+(n<<7)+(n<<8)+(n<<24),n^=e.charCodeAt(r);return 0>n&&(n&=2147483647,n+=2147483648),n},n=function(e){var n=1e3;e*=10;var r=new p,i=""+r.getCookieByName("B");return i?(0>m&&(m=t(i)%n),e>m):!1};return n(e)},in_value_whitelist:function(e){return r&&8>=b?!1:-1!==U.value_len_whitelist.indexOf(e)}}}"undefined"!=typeof console&&"undefined"!=typeof console.log||(console={log:function(){}}),"undefined"==typeof console.error&&(console.error=console.log),"undefined"==typeof console.warn&&(console.warn=console.log),t.prototype={ser:function(){return U.ser(this.map)},set:function(e,t){var n=t?U.norm(t):t;void 0!==n&&null!==n||(n=""),null!==n&&U.isStr(n)&&(n=n.replace(/\\/g,"\\\\")),!U.in_value_whitelist(e)&&n.length>U.MAX_VALUE_LENGTH&&(n=n.substring(0,U.MAX_VALUE_LENGTH)),U.isValidPair(e,n)&&(this.map[U.norm(e)]=n,this.count++)},get:function(e){return this.map[e]},getAll:function(){return this.map},absorb:function(e){if(e&&U.isObj(e))for(var t in e)U.hasOwn(e,t)&&this.set(t,e[t])},absorb_filter:function(e,t){if(e&&U.isObj(e))for(var n in e)t&&!t.call(null,n)||U.hasOwn(e,n)&&this.set(n,e[n])},getSize:function(){return this.count}},n.prototype=new t,n.prototype.constructor=t,r.prototype=new t,r.prototype.constructor=t,n.makeFromPP=function(e){var t=new n;return e&&t.absorb(e.getAll()),t};var R=new n,U=q(e),z=new b,W={none:0,gzip:1,lzw:2,deflate:3};p.prototype={getCookieByName:function(e){return this.cookieMap[e]},getRxx:function(){var e="rxx",t=this.cookieMap[e];if(X.fpc&&(void 0===t||null===t||""===t)){var n=document.domain||"";n="."+n.split(".").slice(-2).join(".");var r=Date.UTC(2015,7,1),i=(new Date).getTime()-r;t=parseInt(Math.random().toString().substring(2)).toString(36)+"."+i.toString(36)+"&v=1",m(e,t,31536e3,n)}return t},extendBCookie:function(){var e=this.cookieMap.B;e?m("B",e,31536e3,".yahoo.com"):l("Bcookie not set")}};var X=u(e),V=g(),$=null,J=null,K=null,Q=null,G=new p,Y=G.getRxx();null!=Y&&R.set("_rx",Y);var Z=G.getCookieByName("_ga");null!=Z&&R.set("_ga",Z);var et=G.getCookieByName("yx");null!=et&&R.set("_yx",et);var tt=(function(){var e={};return{subscribe:function(t,n){var r=e[t];r||(r=[],e[t]=r),r.push(n)},unsubscribe:function(t,n){var r=e[t];if(r)for(var i=0;i<r.length;i++)if(r[i]===n)return void r.splice(i,1)},fire:function(t){var n=e[t];if(n)for(var r=0,i=n.length;i>r;r++)n[r].call(null)}}}(),0),nt=null,rt=null;I();var it={utils:U};return{init:function(){},beaconEvent:function(e,t,n,r){M(e,t,n,r)},beaconClick:function(e,t,n,r,i,s,o){X.ldbg&&h("beaconClick: sec="+e+" slk="+t+" callback="+s),!r&&i&&(r={});var u={};if(i&&(r.outcm=i,u.outcm=i),o&&o.pp&&U.aug(u,o.pp),o&&o.dwell&&X.dwell_on){var a=o.dwell;"start"!==a&&"stop"!==a||("start"===a?K.start_dwell()&&(u.etag="dwell,"+a,u.usergenf=1,u.A_prets=rt?rt.ts:null,u.A_prems=rt?rt.ms:null):K.stop_dwell()&&(u.etag="dwell,"+a,u.usergenf=1,u.A_prets=nt?nt.ts:null,u.A_prems=nt?nt.ms:null))}var f=C(e,t,n,r,i);f.pp=u,V.sendClick(f,s)},addModules:function(e,t,n){X.ldbg&&h("addModules() called: mods="+U.fData(e)+" isPage: "+t),n=n||{};var r={A_am:1};n.pp&&U.aug(r,n.pp),n.useViewability=n.useViewability||!1,n.clickonly=n.clickonly||!1;var i=!1,s=!1;switch(t||(t=n.useViewability?2:!1),t){case 1:case"1":case!0:t=!0,s=!0;break;case 2:case"2":i=!0,t=!1,n.event=T("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!X.yql_enabled)return void (t?O(r,s):n.event&&this.beaconRichView(r,n.event.outcome));n&&n.event&&t&&(c("Cannot track event type and pageview at same time."),n.event=null);var o=z.addModules(e,n.useViewability);(0!==o.length||n.event)&&(n.clickonly&&(o=[]),(X.USE_RAPID||n.event)&&(t||n.event||n.pp?(s&&!X.persist_asid&&a(),n.event&&n.event.data&&U.aug(r,n.event.data),V.sendRapidNoDelay(o,t,r,n)):o.length>0&&V.sendRapid(o,t,r,n)),t===!0&&X.apv&&$&&$.reInit())},addModulesWithViewability:function(e,t,n){n=n||{},n.useViewability=X.viewability,this.addModules(e,t,n)},refreshModule:function(e,t,n,r){X.ldbg&&h("refreshModule called: mod="+e+" isPV: "+t+" sendLinks: "+n+" options: "+U.fData(r));var i=!1,s=!1;switch(r=r||{},t||(t=!1),t){case 1:case"1":case!0:t=!0,s=!0;break;case 2:case"2":i=!0,t=!1,r.event=T("contentmodification","",{});break;case 0:case"0":case!1:default:t=!1}if(!X.yql_enabled){var o=r.pp||{};return void (t?O(o,s):r.event&&this.beaconRichView(o,r.event.outcome))}var u=n!==!1;s&&!X.persist_asid&&a(),t&&r&&r.event&&(r.event=null),z.refreshModule(e,t,u,r)},removeModule:function(e){z.removeModule(e)},isModuleTracked:function(e){return X.ldbg&&h("isTracked called: "+e),z&&void 0!==z.exists(e)},destroy:function(){h("destroy called"),z.destroy(),$&&($.destroy(),$=null),J&&(J.destroy(),J=null),K&&(K.destroy(),K=null)},reInit:function(e){if(X.ldbg&&h("reInit called with: "+U.fData(e)),e=e||{},!e.spaceid)return void c("Invalid spid in reInit config: "+U.fData(e));R=new n,X=u(e),U=q
(e);var t=new p,r=t.getRxx();null!=r&&R.set("_rx",r);var i=t.getCookieByName("_ga");null!=i&&R.set("_ga",i);var s=t.getCookieByName("yx");null!=s&&R.set("_yx",s)},setRapidAttribute:function(e){e.keys&&X.keys.absorb(e.keys),e.spaceid&&(X.spaceid=e.spaceid),e.referrer&&(X.referrer=e.referrer.substring(0,U.MAX_VALUE_LENGTH)),e.A_sid&&(X.keys.set("A_sid",e.A_sid),X.persist_asid=!0),e.location&&(X.loc=e.location,X.keys.set("_w",U.rmProto(e.location).substring(0,U.MAX_VALUE_LENGTH))),U.hasOwn(e,"apv")&&(e.apv?$?$.reInit():$=new D:$&&($.destroy(),$=null))},clearRapidAttribute:function(e){for(var t in e)if("keys"===e[t]){var r=X.keys.get("_w"),i=X.keys.get("A_sid");X.keys=new n,X.keys.set("_w",r),X.keys.set("A_sid",i)}else"referrer"===e[t]?X.referrer="":"A_sid"===e[t]?(X.keys.set("A_sid",""),X.persist_asid=!0):"location"===e[t]&&(X.loc="",X.keys.set("_w",""))},beaconPageview:function(e){O(e,!0)},beaconECommerce:function(e,t){},beaconInternalSearch:function(e,t){},getCurrentSID:function(){return R.get("A_sid")},notifyHistoryPushStateCalled:function(){},beaconLinkViews:function(e,t,n,i){X.ldbg&&h("beaconLinkViews() called"),n=n||{};var s={};n.pp&&U.aug(s,n.pp);var o=!1,u=!1;switch(t){case 1:case"1":case!0:u=!0;break;case 2:case"2":o=!0,u=!1,n.event=T("contentmodification","",{});break;case 0:case"0":case!1:default:u=!1}if(!X.yql_enabled)return void (u?O(s,!1):n.event&&this.beaconRichView(s,n.event.outcome));if(n&&n.event&&u&&(c("Cannot track event type and pageview at same time."),n.event=null),0!==e.length||n.event){for(var a=[],f=0;f<e.length;f++){var l=e[f],p=new r;p.absorb_filter(l,function(e){return"sec"!=e&&"_links"!=e});for(var d=[],v=1,m=0;m<l._links.length;m++){var g=l._links[m],y={viewable:!0,data:{sec:l.sec,_p:v++,A_lv:2}};U.aug(y.data,g),d.push(y)}var b={moduleName:l.sec,moduleYLK:p,links:d,identifier:l.sec};a.push(b)}(X.USE_RAPID||n.event)&&((u||n.event||n.pp)&&n.event&&n.event.data&&U.aug(s,n.event.data),V.sendRapidNoDelay(a,u,s,n)),i&&i.call()}},beaconPerformanceData:function(e,t){H(e,t)},__test_only__:function(){return it}}},YUI.add("rapid",function(e,t){var n=require("hermes-core/flog")("rapid"),r,i=-1,s={debug:!1,trackedElements:["content"]},o=750;e.rapidTracker={ok:!1,_queuedEvents:[],init:function(t){var n,s,o;if(e.rapidTracker.ok)return;try{r=new YAHOO.i13n.Rapid(t),r.init(),e.mix(this,r);for(n=0,s=this._queuedEvents.length;n<s;n++)o=this._queuedEvents.shift(),o.eventType==="beaconClick"?this.beaconClick(o.view,o.action,i,o.keys,o.outcome):o.eventType==="beaconPerformanceData"?this.beaconPerformanceData(o.obj):o.eventType==="beaconEvent"&&this.beaconEvent(o.eventName,o.pageParams);e.rapidTracker.ok=!0}catch(u){e.rapidTracker.ok=!1}},destroy:function(){e.rapidTracker.ok&&(r&&r.destroy(),e.rapidTracker.ok=!1)},getConf:function(t,r,i){var o,u,a="",f={},l=r.getUA(),c=r.getViewer(),h=["signed_out_home_page_no_scroll","enable_personalized_group_recommendations"];return i=i||{},i.trackedElements=i.trackedElements||[],o=e.merge(s,t.get("rapidConf")||{},i),o.trackedElements=s.trackedElements.concat(t.get("trackedElementIDs"),i.trackedElements),r.buckets&&(a=Object.keys(r.buckets).reduce(function(e,t){return h.indexOf(t)!==-1?e+t+":"+r.buckets[t]+",":e},"").slice(0,-1),a.length>300&&(n.warn("Rapid bucket data exceeded the 300 character limit."),a=a.substr(0,300))),f=e.QueryString.parse(window.location.search.replace("?","")),u=e.merge({pageType:t.name,intl:r.lang,bx:r.getCookie("BX"),buckets:a,isStaff:c&&c.isInsecureGod?1:0,renderer:r.hasClientSideRouted()?"c":"s",loggedIn:c&&c.signedIn?1:0,slice:r.slice,groupUsr:r.auth&&r.auth.activeGroupMembership?1:0,density:window.devicePixelRatio||1,dimensns:"innerWidth"in window?window.innerWidth+"x"+window.innerHeight:"unknown",isPro:0,isbot:l.isBot,isunsptd:l.isUnsupportedBrowser||l.isReallyUnsupportedBrowser,campaignID:decodeURIComponent(f.campaignID)||"",linkID:decodeURIComponent(f.linkID)||""},t.getTrackingSegments()),new e.Promise(function(n,i){var s,a=u.isunsptd&&t.get("isPanda")?"p#"+t.get("spaceid"):t.get("spaceid"),f=e.config.flickr.performance_samples[t.name.replace(/-/g,"_")];f?f.signedIn&&(f=f[c&&c.signedIn?"signedIn":"signedOut"]||0):f=0,f*=100,s={debug:o.debug,spaceid:a,client_only:o.client_only||1,compr_on:!1,tracked_mods:o.trackedElements,async_all_clicks:!0,lt_attr:"data-track",keys:u,perf_navigationtime:2,sample:{perf_navigationtime:f}},o.ex&&(s.ex=!0),typeof o.oo!="undefined"&&(s.oo=o.oo),c.signedIn?r.getModel("person-models",c.nsid).then(function(e){s.keys.joindate=e.getValue("dateCreated").format("YYYY-MM-DD"),s.keys.isPro=e.getValue("isPro")?1:0,n(s)}):n(s)})},beacon:function(e,t,n,s){n=n||{},s=s||"",r?r.beaconClick(e,t,i,n,s):this._queuedEvents.push({eventType:"beaconClick",view:e,action:t,keys:n,outcome:s})},beaconPerformanceData:function(e){r?r.beaconPerformanceData(e):this._queuedEvents.push({eventType:"beaconPerformanceData",obj:e})},beaconEvent:function(e,t){r?r.beaconEvent(e,t):this._queuedEvents.push({eventType:"beaconEvent",eventName:e,pageParams:t})},refreshTracker:function(){r&&e.rapidTracker.ok&&r.refreshModule(s.trackedElements[0],!1,!1,{})},beaconScroll:function(t){t.registerEventHandler(e.globalEvents.subscribe("window:scroll",function(n){t.verticalScrollTimer&&clearTimeout(t.verticalScrollTimer),t.verticalScrollTimer=setTimeout(function(){e.rapidTracker.beaconEvent("verticalScroll",{view:t.name,scrollY:window.pageYOffset,scrollTo:e.rapidTracker.getScrollSection(t,window.innerWidth/2,window.innerHeight/2)})},o)}))},getScrollSection:function(t,n,r){var i=e.one(document.elementFromPoint(n,r)),s=i.ancestor("[data-scroll-section]",!0);if(s)return s.getAttribute("data-scroll-section");var o=i.ancestor(".view",!0),u;if(o){u=o.getAttribute("class").match(/[\S]+-view/)[0];if(u===t.name&&n===window.innerWidth/2){var a=e.rapidTracker.getScrollSection(t,n/2,r);return a!==t.name?a:e.rapidTracker.getScrollSection(t,n+n/2,r)}return u}}}},"@VERSION@",{affinity:"client",requires:["querystring-parse-simple","global-events"]});
YUI.add("storage-helper",function(e){e.StorageHelper={setItem:function(t,n,r){var i=r?"sessionStorage":"localStorage";if(e.config.win)try{e.config.win[i][t]=n}catch(s){}},getItem:function(t,n){var r=n?"sessionStorage":"localStorage",i;if(e.config.win)try{i=e.config.win[r][t]}catch(s){}return i},remove:function(t,n){var r=n?"sessionStorage":"localStorage";if(e.config.win)try{e.config.win[r].removeItem(t)}catch(i){}},hasEntries:function(t,n){var r=n?"sessionStorage":"localStorage",i=!1;if(e.config.win)try{i=typeof e.config.win[r][t]!="undefined"}catch(s){}return i},isLocalStorageAvailable:function(){var t="checkLSCompat",n=!1;try{e.config.win.localStorage[t]="checkLSCompatValue",e.config.win.localStorage.removeItem(t),n=!0}catch(r){n=!1}return n}},e.Storage={Instance:{_cache:{},_hasSessionStorage:!0,_clientIdKey:"",getClientIdKey:function(){return this._clientIdKey||(this._clientIdKey=e.config.win.appContext.clientId+"_"),this._clientIdKey},get:function(t){var n,r;try{t=t||"",n=this.getClientIdKey()+t,this._hasSessionStorage?r=e.config.win.sessionStorage.getItem(n):r=this._cache[n]}catch(i){this._hasSessionStorage=!1}return r},set:function(t,n){var r;try{t&&(r=this.getClientIdKey()+t,this._hasSessionStorage?e.config.win.sessionStorage.setItem(r,n):this._cache[r]=n)}catch(i){this._cache[r]=n,this._hasSessionStorage=!1}},has:function(t){var n=!1,r;try{r=this.getClientIdKey()+t,this._hasSessionStorage?n=!!e.config.win.sessionStorage.getItem(r):n=!!this._cache[r]}catch(i){this._hasSessionStorage=!1}return n},remove:function(t){var n;try{t=t||"",n=this.getClientIdKey()+t,this._hasSessionStorage?e.config.win.sessionStorage.removeItem(n):this._cache[n]=undefined}catch(r){this._hasSessionStorage=!1}},clear:function(){this.clearByKey(this.getClientIdKey())},clearByKey:function(t){var n,r,i,s=[];try{if(t)if(this._hasSessionStorage){for(n=0,i=e.config.win.sessionStorage.length;n<i;n++)r=e.config.win.sessionStorage.key(n),r&&r.indexOf(t)===0&&s.push(r);for(n=0,i=s.length;n<i;n++)e.config.win.sessionStorage.removeItem(s[n])}else{e.Object.each(this._cache,function(e,n){n.indexOf(t)===0&&s.push(n)});for(n=0,i=s.length;n<i;n++)this._cache[s[n]]=undefined}}catch(o){this._hasSessionStorage=!1}}}}},"@VERSION@",{requires:[]});
YUI.add("keyboard-manager",function(e){var t=e.KeyboardManager=function(){var t=this;this.keyEventScope=["*"],e.on("flickr:setKeyEventScope",function(e){t.setCurrentKeyEventScope(e)}),e.on("flickr:removeKeyEventScope",function(e){t.removeCurrentKeyEventScope(e)})},n;t.prototype={on:function(t,n,r){return typeof r=="undefined"&&(r=n,n=null),e.one("doc").on("key",this.handleKey.bind(this,r,n),t)},handleKey:function(e,t,r){if(r.metaKey||r.altKey||r.shiftKey||r.ctrlKey)return;if(this.inputHasFocus())return;var i=n.get(r,"keyEventScope");i||(i=this.getCurrentKeyEventScope(),n.add(r,{keyEventScope:i})),(t==="*"||t===i)&&e(r)},inputHasFocus:function(){var t,n=/^text|search|tel|url|email|password|datetime|date|month|week|time|datetime-local|number|range|color$/i,r;try{t=e.one(document.activeElement)}catch(i){return!1}return t?(r=t.get("tagName").toUpperCase(),r==="INPUT"?n.test(t.get("type")):r==="TEXTAREA"||r==="SELECT"?!0:t.getAttribute("contenteditable")||!1):!1},setCurrentKeyEventScope:function(e){var t=this.keyEventScope.indexOf(e);t===-1?this.keyEventScope.push(e):this.keyEventScope=this.keyEventScope.slice(0,t+1)},getCurrentKeyEventScope:function(){return this.keyEventScope.slice(-1)[0]},getKeyEventScopeStack:function(){return this.keyEventScope},removeCurrentKeyEventScope:function(e){var t=this.keyEventScope.indexOf(e);t>-1&&(this.keyEventScope=this.keyEventScope.slice(0,t))},resetCurrentKeyEventScope:function(e){this.keyEventScope=["*"]}},n=function(){function r(e){var t;switch(e.type){case"key":t=e.which+e.pageX+e.pageY;break;default:t=e.type+e.pageX+e.pageY}return t}function i(e){delete t[e]}var t={},n=1;return{add:function(s,o){var u,a=r(s),f;e.Lang.isObject(s)&&e.Lang.isObject(s._event)&&e.Lang.isObject(o)&&(f=e.later(n,this,i,a),u=t[a]||{},e.mix(u,o,!0),u.timer&&u.timer.cancel(),u.timer=f,t[a]=u)},get:function(s,o){var u=r(s),a=t[u]||{};return a.timer&&a.timer.cancel(),a.timer=e.later(n,this,i,u),o?a[o]:a}}}()},"@VERSION@",{requires:["event-key"]});
YUI.add("overflow-helper",function(e){function t(t){var n=0,r;return YUI.Env.isServer||(r=e.Node.create("<div></div>"),r.setStyle("width",100).setStyle("height",100).setStyle("overflow","scroll").setStyle("position","absolute").setStyle("top",-9999),t.append(r),n=r._node.offsetWidth-r._node.clientWidth,r.remove(!0)),n}function n(t,n){var r,i,s;YUI.Env.isServer||(r=e.Node.create("<div>test event</div>"),r.setStyle("height: 1px").setStyle("width","1px").setStyle("opacity",0).setStyle("position","absolute").setStyle("top",-99999).setStyle("left",-99999).setStyle("overflow","auto"),t.append(r),i=setTimeout(function(){r._node.removeEventListener("overflow",s),r.remove(!0),n(!1)},10),s=function(e){clearTimeout(i),r._node.removeEventListener("overflow",s),r.remove(!0),n(!0)},r._node.addEventListener("overflow",s,!1))}function r(e,t,r,i){var s=t==="over",o,u,a,f;"OverflowEvent"in window?(f=function(e){if(e.type===t+"flow"||e.orient===0&&e.horizontalOverflow===s||e.orient===1&&e.verticalOverflow===s||e.orient===2&&e.horizontalOverflow===s&&e.verticalOverflow===s)return r.call(this,e)},a=e._node.addEventListener("overflowchanged",f,!1),i({detach:function(){e._node.removeEventListener("overflowchanged",f)}})):n(e,function(n){n?(f=function(e){if(e.type===t+"flow"||e.orient===0&&e.horizontalOverflow===s||e.orient===1&&e.verticalOverflow===s||e.orient===2&&e.horizontalOverflow===s&&e.verticalOverflow===s)return r.call(this,e)},a=e._node.addEventListener(t+"flow",f,!1),i({detach:function(){e._node.removeEventListener(t+"flow",f)}})):(u=function(){e._node.scrollHeight>e._node.clientHeight?t==="over"&&r.call(e._node,{}):t==="under"&&r.call(e._node,{})},"MutationObserver"in window?(o=new MutationObserver(function(e){e.some(function(e){return u(),!0})}),o.observe(e._node,{attributes:!1,subtree:!0,childList:!0}),i({detach:function(){o.disconnect()}})):"MutationEvent"in window&&(f=function(e){setTimeout(function(){u()},10)},a=e._node.addEventListener("DOMSubtreeModified",f,!1),i({detach:function(){e._node.removeEventListener("DOMSubtreeModified",f)}})))})}e.OverflowHelper={detectScrollbarSize:t,addFlowListener:r}},"@VERSION@",{requires:[]});
YUI.add("priority-queue",function(e,t){var n,r;e.PriorityQueue=n=function(e){this._comp=e||r,this._elts=[]},r=function(e,n){var r=typeof e,i=typeof n;if(r==="number"&&i==="number")return e-n;if(r!=="string"||i!=="string")throw new Error("["+t+"] can't sort items of type "+r+" and "+i);if(e===n)return 0;if(e>n)return 1;-1},n.prototype.size=function(){return this._elts.length},n.prototype.isEmpty=function(){return this._elts.length===0},n.prototype.push=function(){var e=Array.prototype.slice.call(arguments);e.length===1?this._elts.push(e[0]):this._elts=this._elts.concat(e),this.sort()},n.prototype.pop=function(){return this._elts.pop()},n.prototype.peek=function(){return this._elts[this._elts.length-1]},n.prototype.sort=function(e){e&&(this._comp=e),this._elts.sort(this._comp)},n.prototype.clear=function(e){this._elts=[]},n.prototype.map=function(e){return this._elts.map(e)}},"@VERSION@",{requires:[]});
YUI.add("defer-images",function(e,t){function p(){if(c)return;f=new Array(n),u=new e.PriorityQueue(function(e,t){return E(l,t)-E(l,e)}),h=!0,S(),g(),y(),e.globalEvents.subscribe("window:scroll",function(){S(),u.sort()}),c=!0}function d(){if(!c){p();return}u.clear(),g(),y()}function v(){h=!1}function m(){h=!0,y()}function g(){var t=[];a=e.all(o),a.each(function(e,n){var r=e.getXY();t.push({x:r[0],y:r[1],url:e.getAttribute(s),node:e,errorCount:0})}),u.push.apply(u,t)}function y(){var e,t,r;if(!h)return;for(e=0;e<n;e++){t=f[e];if(t&&!t.complete)continue;r=u.pop(),r&&(f[e]=t={task:r,complete:!1},b(t))}}function b(e){var t=new Image,n=w.bind(this,e);t.onload=n,t.onerror=function(){var t;e.task.errorCount++,e.task.errorCount>r?(t=/[a-f0-9]+(_[a-z]{1,2})?\.[a-z]{3,4}$/.exec(e.task.url),e.task.url="https://s.yimg.com/pw/images/"+this.appContext.lang.toLowerCase()+"/photo_unavailable"+(t[1]?t[1]:"")+".png",n()):b(e)},t.src=e.task.url,t.complete&&n()}function w(e){var t=e.task.node;switch(t.get("tagName").toLowerCase()){case"img":t.setAttribute("src",e.task.url);break;case"video":t.setAttribute("poster",e.task.url);break;default:t.setStyle("backgroundImage","url("+e.task.url+")")}t.setAttribute(s,i),e.complete=!0,y()}function E(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function S(){l={x:e.config.win.pageXOffset+e.config.win.innerWidth/2,y:e.config.win.pageYOffset+e.config.win.innerHeight/2}}var n=4,r=3,i="loaded",s="data-defer-src",o="["+s+"]:not(["+s+'="'+i+'"])',u,a,f,l={x:0,y:0},c=!1,h=!1;e.DeferImages={init:p,update:d,pause:v,resume:m}},"@VERSION@",{requires:["priority-queue","app-context","global-events"]});
YUI.add("accessibility",function(e,t){function n(e){e.registerEventHandler(e.get("container").on("mouseup",r)),e.registerEventHandler(e.get("container").on("focus",i))}function r(){var t=e.one(document.activeElement);t&&t.addClass("no-outline")}function i(){var t=e.one(document.activeElement);t&&t.removeClass("no-outline")}function s(e){var t=e.view,n=e.getDroparound,r=e.anchor,i=e.handler,s;t.registerEventHandler(r.on("key",function(e){e.preventDefault(),e.stopPropagation(),s=n(),e.target.get("aria-expanded")==="true"?(s&&s.close(),e.target.set("aria-expanded","false")):(i.call(t,e),s&&!s.isClosed&&e.target.set("aria-expanded","true"))},"down:13,32")),t.registerEventHandler(r.on("key",function(e){var t=e.keyCode,r=!0;t===9&&(r=r&&!e.shiftKey);if(e.target.getAttribute("aria-expanded")==="true"&&r){e.preventDefault(),s=n();if(s){var i=s.get("container").one("ul[role=menu]").one("li:first-child");i&&i.focus()}}},"down:40,9"))}e.Accessibility={manageFocusOutlines:n,makeDroparoundAnchorAccessible:s}},"@VERSION@",{requires:[]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-base",function(e,t){var n="running",r="startTime",i="elapsedTime",s="start",o="tween",u="end",a="node",f="paused",l="reverse",c="iterationCount",h=Number,p={},d;e.Anim=function(){e.Anim.superclass.constructor.apply(this,arguments),e.Anim._instances[e.stamp(this)]=this},e.Anim.NAME="anim",e.Anim._instances={},e.Anim.RE_DEFAULT_UNIT=/^width|height|top|right|bottom|left|margin.*|padding.*|border.*$/i,e.Anim.DEFAULT_UNIT="px",e.Anim.DEFAULT_EASING=function(e,t,n,r){return n*e/r+t},e.Anim._intervalTime=20,e.Anim.behaviors={left:{get:function(e,t){return e._getOffset(t)}}},e.Anim.behaviors.top=e.Anim.behaviors.left,e.Anim.DEFAULT_SETTER=function(t,n,r,i,s,o,u,a){var f=t._node,l=f._node,c=u(s,h(r),h(i)-h(r),o);l?"style"in l&&(n in l.style||n in e.DOM.CUSTOM_STYLES)?(a=a||"",f.setStyle(n,c+a)):"attributes"in l&&n in l.attributes?f.setAttribute(n,c):n in l&&(l[n]=c):f.set?f.set(n,c):n in f&&(f[n]=c)},e.Anim.DEFAULT_GETTER=function(t,n){var r=t._node,i=r._node,s="";return i?"style"in i&&(n in i.style||n in e.DOM.CUSTOM_STYLES)?s=r.getComputedStyle(n):"attributes"in i&&n in i.attributes?s=r.getAttribute(n):n in i&&(s=i[n]):r.get?s=r.get(n):n in r&&(s=r[n]),s},e.Anim.ATTRS={node:{setter:function(t){return t&&(typeof t=="string"||t.nodeType)&&(t=e.one(t)),this._node=t,!t,t}},duration:{value:1},easing:{value:e.Anim.DEFAULT_EASING,setter:function(t){if(typeof t=="string"&&e.Easing)return e.Easing[t]}},from:{},to:{},startTime:{value:0,readOnly:!0},elapsedTime:{value:0,readOnly:!0},running:{getter:function(){return!!p[e.stamp(this)]},value:!1,readOnly:!0},iterations:{value:1},iterationCount:{value:0,readOnly:!0},direction:{value:"normal"},paused:{readOnly:!0,value:!1},reverse:{value:!1}},e.Anim.run=function(){var t=e.Anim._instances,n;for(n in t)t[n].run&&t[n].run()},e.Anim.pause=function(){for(var t in p)p[t].pause&&p[t].pause();e.Anim._stopTimer()},e.Anim.stop=function(){for(var t in p)p[t].stop&&p[t].stop();e.Anim._stopTimer()},e.Anim._startTimer=function(){d||(d=setInterval(e.Anim._runFrame,e.Anim._intervalTime))},e.Anim._stopTimer=function(){clearInterval(d),d=0},e.Anim._runFrame=function(){var t=!0,n;for(n in p)p[n]._runFrame&&(t=!1,p[n]._runFrame());t&&e.Anim._stopTimer()},e.Anim.RE_UNITS=/^(-?\d*\.?\d*){1}(em|ex|px|in|cm|mm|pt|pc|%)*$/;var v={run:function(){return this.get(f)?this._resume():this.get(n)||this._start(),this},pause:function(){return this.get(n)&&this._pause(),this},stop:function(e){return(this.get(n)||this.get(f))&&this._end(e),this},_added:!1,_start:function(){this._set(r,new Date-this.get(i)),this._actualFrames=0,this.get(f)||this._initAnimAttr(),p[e.stamp(this)]=this,e.Anim._startTimer(),this.fire(s)},_pause:function(){this._set(r,null),this._set(f,!0),delete p[e.stamp(this)],this.fire("pause")},_resume:function(){this._set(f,!1),p[e.stamp(this)]=this,this._set(r,new Date-this.get(i)),e.Anim._startTimer(),this.fire("resume")},_end:function(t){var n=this.get("duration")*1e3;t&&this._runAttrs(n,n,this.get(l)),this._set(r,null),this._set(i,0),this._set(f,!1),delete p[e.stamp(this)],this.fire(u,{elapsed:this.get(i)})},_runFrame:function(){var e=this._runtimeAttr.duration,t=new Date-this.get(r),n=this.get(l),s=t>=e;this._runAttrs(t,e,n),this._actualFrames+=1,this._set(i,t),this.fire(o),s&&this._lastFrame()},_runAttrs:function(t,n,r){var i=this._runtimeAttr,s=e.Anim.behaviors,o=i.easing,u=n,a=!1,f,l,c;t>=n&&(a=!0),r&&(t=n-t,u=0);for(c in i)i[c].to&&(f=i[c],l=c in s&&"set"in s[c]?s[c].set:e.Anim.DEFAULT_SETTER,a?l(this,c,f.from,f.to,u,n,o,f.unit):l(this,c,f.from,f.to,t,n,o,f.unit))},_lastFrame:function(){var e=this.get("iterations"),t=this.get(c);t+=1,e==="infinite"||t<e?(this.get("direction")==="alternate"&&this.set(l,!this.get(l)),this.fire("iteration")):(t=0,this._end()),this._set(r,new Date),this._set(c,t)},_initAnimAttr:function(){var t=this.get("from")||{},n=this.get("to")||{},r={duration:this.get("duration")*1e3,easing:this.get("easing")},i=e.Anim.behaviors,s=this.get(a),o,u,f;e.each(n,function(n,a){typeof n=="function"&&(n=n.call(this,s)),u=t[a],u===undefined?u=a in i&&"get"in i[a]?i[a].get(this,a):e.Anim.DEFAULT_GETTER(this,a):typeof u=="function"&&(u=u.call(this,s));var l=e.Anim.RE_UNITS.exec(u),c=e.Anim.RE_UNITS.exec(n);u=l?l[1]:u,f=c?c[1]:n,o=c?c[2]:l?l[2]:"",!o&&e.Anim.RE_DEFAULT_UNIT.test(a)&&(o=e.Anim.DEFAULT_UNIT);if(!u||!f){e.error('invalid "from" or "to" for "'+a+'"',"Anim");return}r[a]={from:e.Lang.isObject(u)?e.clone(u):u,to:f,unit:o}},this),this._runtimeAttr=r},_getOffset:function(e){var t=this._node,n=t.getComputedStyle(e),r=e==="left"?"getX":"getY",i=e==="left"?"setX":"setY",s;return n==="auto"&&(s=t.getStyle("position"),s==="absolute"||s==="fixed"?(n=t[r](),t[i](n)):n=0),n},destructor:function(){delete e.Anim._instances[e.stamp(this)]}};e.extend(e.Anim,e.Base,v)},"3.16.0",{requires:["base-base","node-style"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-color",function(e,t){var n=Number;e.Anim.getUpdatedColorValue=function(t,r,i,s,o){return t=e.Color.re_RGB.exec(e.Color.toRGB(t)),r=e.Color.re_RGB.exec(e.Color.toRGB(r)),(!t||t.length<3||!r||r.length<3)&&e.error("invalid from or to passed to color behavior"),"rgb("+[Math.floor(o(i,n(t[1]),n(r[1])-n(t[1]),s)),Math.floor(o(i,n(t[2]),n(r[2])-n(t[2]),s)),Math.floor(o(i,n(t[3]),n(r[3])-n(t[3]),s))].join(", ")+")"},e.Anim.behaviors.color={set:function(t,n,r,i,s,o,u){t._node.setStyle(n,e.Anim.getUpdatedColorValue(r,i,s,o,u))},get:function(e,t){var n=e._node.getComputedStyle(t);return n=n==="transparent"?"rgb(255, 255, 255)":n,n}},e.each(["backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],function(t){e.Anim.behaviors[t]=e.Anim.behaviors.color})},"3.16.0",{requires:["anim-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-xy",function(e,t){var n=Number;e.Anim.behaviors.xy={set:function(e,t,r,i,s,o,u){e._node.setXY([u(s,n(r[0]),n(i[0])-n(r[0]),o),u(s,n(r[1]),n(i[1])-n(r[1]),o)])},get:function(e){return e._node.getXY()}}},"3.16.0",{requires:["anim-base","node-screen"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-curve",function(e,t){e.Anim.behaviors.curve={set:function(t,n,r,i,s,o,u){r=r.slice.call(r),i=i.slice.call(i);var a=u(s,0,100,o)/100;i.unshift(r),t._node.setXY(e.Anim.getBezier(i,a))},get:function(e){return e._node.getXY()}},e.Anim.getBezier=function(e,t){var n=e.length,r=[],i,s;for(i=0;i<n;++i)r[i]=[e[i][0],e[i][1]];for(s=1;s<n;++s)for(i=0;i<n-s;++i)r[i][0]=(1-t)*r[i][0]+t*r[parseInt(i+1,10)][0],r[i][1]=(1-t)*r[i][1]+t*r[parseInt(i+1,10)][1];return[r[0][0],r[0][1]]}},"3.16.0",{requires:["anim-xy"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-easing",function(e,t){var n={easeNone:function(e,t,n,r){return n*e/r+t},easeIn:function(e,t,n,r){return n*(e/=r)*e+t},easeOut:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeBoth:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInStrong:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutStrong:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeBothStrong:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},elasticIn:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r)===1?t+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),-(i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s))+t)},elasticOut:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r)===1?t+n:(s||(s=r*.3),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*e)*Math.sin((e*r-o)*2*Math.PI/s)+n+t)},elasticBoth:function(e,t,n,r,i,s){var o;return e===0?t:(e/=r/2)===2?t+n:(s||(s=r*.3*1.5),!i||i<Math.abs(n)?(i=n,o=s/4):o=s/(2*Math.PI)*Math.asin(n/i),e<1?-0.5*i*Math.pow(2,10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)+t:i*Math.pow(2,-10*(e-=1))*Math.sin((e*r-o)*2*Math.PI/s)*.5+n+t)},backIn:function(e,t,n,r,i){return i===undefined&&(i=1.70158),e===r&&(e-=.001),n*(e/=r)*e*((i+1)*e-i)+t},backOut:function(e,t,n,r,i){return typeof i=="undefined"&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},backBoth:function(e,t,n,r,i){return typeof i=="undefined"&&(i=1.70158),(e/=r/2)<1?n/2*e*e*(((i*=1.525)+1)*e-i)+t:n/2*((e-=2)*e*(((i*=1.525)+1)*e+i)+2)+t},bounceIn:function(t,n,r,i){return r-e.Easing.bounceOut(i-t,0,r,i)+n},bounceOut:function(e,t,n,r){return(e/=r)<1/2.75?n*7.5625*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t},bounceBoth:function(t,n,r,i){return t<i/2?e.Easing.bounceIn(t*2,0,r,i)*.5+n:e.Easing.bounceOut(t*2-i,0,r,i)*.5+r*.5+n}};e.Easing=n},"3.16.0",{requires:["anim-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-node-plugin",function(e,t){var n=function(t){t=t?e.merge(t):{},t.node=t.host,n.superclass.constructor.apply(this,arguments)};n.NAME="nodefx",n.NS="fx",e.extend(n,e.Anim),e.namespace("Plugin"),e.Plugin.NodeFX=n},"3.16.0",{requires:["node-pluginhost","anim-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("anim-scroll",function(e,t){var n=Number;e.Anim.behaviors.scroll={set:function(e,t,r,i,s,o,u){var a=e._node,f=[u(s,n(r[0]),n(i[0])-n(r[0]),o),u(s,n(r[1]),n(i[1])-n(r[1]),o)];f[0]&&a.set("scrollLeft",f[0]),f[1]&&a.set("scrollTop",f[1])},get:function(e){var t=e._node;return[t.get("scrollLeft"),t.get("scrollTop")]}}},"3.16.0",{requires:["anim-base"]});
YUI.add("anchor-repositioner",function(e,t){var n=require("hermes-core/flog")(t),r=10;e.AnchorRepositioner=function(){function o(){return f(),u("default",r),e.on("hashchange",function(e){f(),c()},e.config.win),{addOffset:h,removeOffset:p,jumpTo:c}}function u(e,t){i.push({key:e,y:t})}function a(){return i.reduce(function(e,t){return e+t.y},0)}function f(){var t=e.config.win.location.hash.replace("#",""),n;t&&(n=e.one('[id="'+t+'"], [name="'+t+'"]'),n&&l(n))}function l(t){t instanceof e.Node||(t=e.one(t)),n=t}function c(t){var r,i,o;t&&l(t),n&&(n.scrollIntoView(!0),r=e.config.win.scrollY||e.config.win.pageYOffset,i=Math.ceil(n.getY()),o=a(),i>=r&&i<=r+o&&(s&&s.stop(),s=new e.Anim({duration:.25,node:"win",easing:"easeOut",to:{scroll:[0,i-o]}}),s.on("end",function(e){s=null}),s.run()))}function h(t,n){n instanceof e.Node&&u(t,parseInt(n.getComputedStyle("height"),10))}function p(e){return i.some(function(t,n){if(t.key===e)return i.splice(n,1),!0})}var t,n,i=[],s;return t||(t=o()),t}()},"@VERSION@",{requires:["node","anim"]});
YUI.add("client-app",function(e,t){function f(){a=!1}function l(t){var n=window.location,r=window.history,i,s,o=!1;if(n.search&&r.replaceState){i=e.QueryString.parse(n.search.replace("?","")),t.forEach(function(e){e in i&&(delete i[e],o=!0)});if(o){s=e.QueryString.stringify(i);try{r.replaceState({},"",n.pathname+(s?"?"+s:""))}catch(u){}}}}function c(e,t){return t.betterUse(e,t)}function h(){return new e.FlickrRouter(u,e.config.flickr.routes)}function p(t){return window.appContext=new e.AppContext(t),window.appContext}function d(t){var n,i,s=[],o,u,a=["flickr.photos.addView","flickr.groups.updateViewDate","flickr.photos.getPhotos","flickr.people.addView","flickr.photosets.addView"];r.getViewCounter().flushQueue();if(r.uploadIsInProgress())u=this.intlMessage({intlName:"client-app.UPLOAD_IN_PROGRESS"});else{for(n in r.writeAPICallsMadeOnThisPage)i=r.writeAPICallsMadeOnThisPage[n],i.completed||s.push(i);s.length&&(s.every(function(e){return a.indexOf(e.methodName)!==-1})||(e.config.flickr.requestConfig&&e.config.flickr.requestConfig.auth&&e.config.flickr.requestConfig.auth.isInsecureGod?(o=s.map(function(e){return e.methodName}).join(", "),u=this.intlMessage({intlName:"client-app.SAVING_LAST_ACTIONS"})+" In progress API Methods: "+o):u=this.intlMessage({intlName:"client-app.SAVING_LAST_ACTIONS"})))}return e.Storage.Instance.clear(),u&&((t||window.event).returnValue=u),u}function v(t){if(!a){window.location=t.url,t.halt();return}r.setClientSideRouted(!0),r.setPreviousLocation(),r.adManager.hideAd(),r.updateModelRefetchState(t.url,t.originEvent&&t.originEvent.currentTarget&&t.originEvent.currentTarget.hasClass("do-not-evict")),r.clearWriteAPICallCache(),r.setGPCredentials(null),e.loaderBar.start(),r.clientMetrics.clearPendingMeasurements(),r.clientMetrics.start(t.details[0].url),r.adManager.isEnabled()&&r.adManager.currentlyShowingAd&&r.adManager.adIsUnloading(),r.getKeyboardManager().resetCurrentKeyEventScope(),e.Object.each(r.modelRegistries,function(e,t){e.hasWeakSubscribers&&e.removeWeakSubscribers()}),i=!0}function m(){e.UA.chrome>0&&(window.scrollTo(window.scrollX,window.scrollY+1),window.scrollTo(window.scrollX,window.scrollY-1))}function g(t){e.Object.each(r.modelRegistries,function(e,t){e.hasWeakSubscribers&&e.removeWeakSubscribers()}),e.fire("close-dialogs"),t.src==="popstate"&&m(),t.src==="popstate"&&!u.hasRoute(u.getPath())&&!e.Object.isEmpty(t.newVal)&&u.navigate(u.getPath()),r.getViewCounter().flushQueue({resetDuplicateTracking:!0}),i||r.updateModelRefetchState(),i=!1}function y(e){u.set("previousView",e.prevVal)}function b(t,n){var i={spaceId:n,pageId:t.replace(/-/g,"_"),serverip:e.config.flickr.lighthouse.serverip,uuid:e.config.flickr.lighthouse.uuid,paft:!0,clientMetrics:r.clientMetrics,signedIn:r.getViewer().signedIn,rapidOnly:o,beaconToRapid:s,rapid:e.rapidTracker};r.Lighthouse=new e.Lighthouse(i)}function w(){e.config.win.DARLA_CONFIG={events:{AGOF:{name:"AGOF",ps:"RS"}},positions:{RS:{id:"RS",dest:"tgtRS",hcpx:1,wcpx:1,h:1,w:1,supports:!1}}},e.one("html").getAttribute("lang")==="de-DE"&&setTimeout(function(){var t=e.Node.create("<script defer='true' async='true' src='https://fc.yahoo.com/sdarla/php/client.php?f=2022219890&l=RS&npv=1&ref=https%3A//flickr.com&rtype=boot'>");e.one("head").append(t)},100)}function E(){var t=r.getViewer().intl;t==="de"&&e.use("hermes-template-agof",function(){var t=u.get("activeView"),r,i;r=e.config.flickr.agof.spaceids[t.name]||e.config.flickr.agof.spaceids["default"],i=e.Template.get("hermes/agof")({spaceid:r}),e.one(".agof").set("innerHTML",i),n.log("AGOF",{spaceid:r})})}function S(t,n){n=n||u.get("activeView"),e.rapidTracker.getConf(n,r,t).then(function(t){e.rapidTracker.init(t)})}function x(t,n){e.rapidTracker&&e.rapidTracker.destroy&&e.rapidTracker.destroy(),S(t,n)}function T(){l(["campaignID","linkID"])}function N(){if(e.config.flickr.requestConfig&&e.config.flickr.requestConfig.auth&&e.config.flickr.requestConfig.auth.isInsecureGod){var t=e.all("[data-view-signature]");t.size()&&n.warn("View signature mismatches detected! A view likely modified the `params` object directly.",{views:t.getDOMNodes()})}}function C(t){var n=t.pathname||"",r=(n.match(/^\/photos\/([^\/]+)/)||[])[1]||null,i;return r&&r!=="friends"&&(i=e.murmurhash(r,r+"secret insecure salt"),n=n.replace(r,i)),e.config.flickr.url.host+n}function k(){var t={c1:2,c2:7241469,c3:"",c4:encodeURIComponent(C(document.location)),c5:u.get("activeView").get("spaceid"),c6:"",c15:""};e.comscore&&e.comscore.beacon&&e.comscore.beacon(t)}function L(t){var i=this.get("activeView");i.getViewDataFromHistory("referrer")===undefined&&i.setViewDataOnHistory("referrer",r.getPreviousURL()),r.clientMetrics.end(),x(),k(),E(),e.DeferImages.update(),e.config.win.DARLA&&e.config.win.DARLA.event&&typeof e.config.win.DARLA.event=="function"&&e.soon(function(){try{e.config.win.DARLA.event("AGOF")}catch(t){n.error("error firing secureFrame event",{err:t})}}),r.adManager.setAdCouldBeShown(!1);if(e.config.win.onappclientnav)try{e.config.win.onappclientnav()}catch(t){}e.Accessibility.manageFocusOutlines(i),e.rapidTracker.beaconScroll(i)}function A(t){return new e.Promise(function(i,s){var o=setTimeout(function(){s(new Error("Initial View Timeout"))},1e4);t.params.appContext=r,u.showContent(e.one("#content > .view"),{view:{name:t.name,config:t.params}},function(u){e.one("body").removeClass("dark-loader"),u._params&&(u._params.keyEventScope=u.name+u._yuid),u.setViewDataOnHistory("referrer",document.referrer),b(t.name,t.spaceId),u.set("isRootView",!0),u.initialize().then(function(){S(),k(),w(),E(),r.getKeyboardManager().setCurrentKeyEventScope(u.name+u._yuid),m(),e.DeferImages.init(),e.Accessibility.manageFocusOutlines(u),e.rapidTracker.beaconScroll(u),T(),N(),clearTimeout(o),i()}).then(null,function(e){throw n.error("There was a problem initializing or activating the view.",{err:e}),s(),e})}),u.before("navigate",v),u.before("activeViewChange",y),e.on("history:change",g),u.after("activeViewChange",L)})}function O(t,
n,i,a){var f={},l;return e.Views&&e.Views[t]&&(f[t]={type:e.Views[t],preserve:!1}),u=new e.App({serverRouting:!0,viewContainer:"#content",container:"#content",linkSelector:":not(.server-only-link):not([target=_blank])",scrollToTop:!1,views:f}),s=a.flipper["enable-lighthouse-and-rapid-performance-beaconing"],o=a.flipper["enable-rapid-only-performance-beaconing"],o||e.FlickrClientMetrics.gatherColdStartData(),l=h(),a.auth=n,a.flapp=u,r=p(a),r.clientMetrics=new e.FlickrClientMetrics(r),o||(r.apiMetrics=new e.FlickrAPIMetrics(r)),r.routeTiming=a.routeTiming,r.routeConfig=a.routeConfig,r.getHealthBeaconer(),e.mix(e.Node.DOM_EVENTS,{transitionend:!0,webkitTransitionEnd:!0}),e.ClientTransport.authorize(r),window.addEventListener("unload",function(t){e.ClientTransport.unloading=!0}),window.addEventListener("load",function(t){e.ClientTransport.unloading=!1}),r.modelImportExport.importAll(i)}function M(t){if(typeof t=="undefined")return e.Promise.reject({message:"Invalid config object supplied, was undefined."});var n=t.initialView,r=t.modelExport,i,s,o=t.auth,u=this;return o||f(),o&&t.auth.signedIn?i=t.auth.csrf:i=null,e.config.flickr.csrf.token=i,e.config.flickr.requestConfig={auth:o},t.params.routeTiming=t.routeTiming,t.params.routeConfig=t.routeConfig,l(["rb","welcome","rd","cr"]),window.location.search&&window.location.search.match(/yc=/)&&(s=e.QueryString.parse(window.location.search.replace("?","")),e.config.flickr.ycParam=s.yc),e.transportFactory=function(n,r){return new e.ClientTransport(r)},c(n.name,e).then(function(){return O(n.name,o,r,t.params)}).then(function(){return A(n)}).then(function(){e.AnchorRepositioner.jumpTo(),e.config.win.addEventListener("beforeunload",d.bind(u))}).then(e.config.win.onappinit)}var n=require("hermes-core/flog")(t),r,i=!1,s,o,u,a=!0;e.ClientApp={init:M,beforeUnload:d,beforeNavigate:v,_loadInitialView:c,langBundles:["client-app"],updateRapidTracker:x,disableClientNav:f},e.mix(e.ClientApp,e.Localizable)},"@VERSION@",{requires:["app-base","app-content","router","app-context","client-transport","flickr-router","flickr-client-metrics","flickr-api-metrics","handlebars-helpers","lighthouse","comscore","loader-bar","murmurhash","node","rapid","site-key","better-use","flickr-promise","global-events","querystring-parse-simple","querystring-stringify-simple","storage-helper","keyboard-manager","dom","overflow-helper","defer-images","accessibility","anchor-repositioner"],affinity:"client",langBundles:["client-app"]});
YUI.add("csrf-updater",function(e){"use strict";var t=require("hermes-core/flog")("csrf");e.CsrfUpdater=function(e){this.flickrAPI=e,this._tasks=[]},e.CsrfUpdater.prototype.getKey=function(){return e.config.flickr.csrf.token||null},e.CsrfUpdater.prototype.isExpired=function(){return e.config.flickr.csrf.token?Date.now()/1e3>e.config.flickr.csrf.csrfExpiresAt:!1},e.CsrfUpdater.prototype.invalidate=function(e){var t=this._lastStored||0;e||(e=0);if(e<t)return;return this.setExpired()},e.CsrfUpdater.prototype.setExpired=function(){return e.config.flickr.csrf.csrfExpiresAt=0},e.CsrfUpdater.prototype.store=function(t,n){this._lastStored=Date.now(),n||(n=Math.floor(this._lastStored/1e3)),e.config.flickr.csrf.token=t,e.config.flickr.csrf.csrfFetched=n,e.config.flickr.csrf.csrfExpiresAt=n+e.config.flickr.csrf.fetch_interval,this.drainQueue()},e.CsrfUpdater.prototype.pushToQueue=function(e){this._tasks.push(e)},e.CsrfUpdater.prototype.drainQueue=function(){while(this._tasks.length)this._tasks.shift().resolve()},e.CsrfUpdater.prototype.hasQueuedTasks=function(){return!!this._tasks.length},e.CsrfUpdater.prototype.scheduleFutureFetch=function(){if(!e.config.flickr.csrf.token)return;this._timerFutureFetch=setTimeout(this.fetch.bind(this),e.config.flickr.csrf.fetch_interval*1e3)},e.CsrfUpdater.prototype.scheduleRetry=function(t){var n=this,r=this._fetchRuns>4?1:Math.pow(2,(this._fetchRuns||1)-1)/10,i=e.config.flickr.csrf.retry_interval*r;clearTimeout(this._timerRetry),this._timerRetry=setTimeout(function(){n._timerRetry=null,n.fetch(t)},i*1e3)},e.CsrfUpdater.prototype.fetch=function(n){var r=this,i=r.hasQueuedTasks();clearTimeout(this._timerFutureFetch);if(!YUI.Env.isServer)e.ClientApp&&e.ClientApp.disableClientNav();else{if(!n){n=new e.Promise(function(e,t){this.resolve=e,this.reject=t}),this.pushToQueue(n);if(i)return n}this._fetchRuns||(this._fetchRuns=0),this._fetchRuns++,this.flickrAPI.fetchCsrf().then(function(i){var s=i.token;if(!i.token){t.error("Failed to fetch csrf token",i),e.fire("csrf:badkey",i),r.scheduleRetry(n);return}t.log("Received new csrf token",i),e.fire("csrf:goodkey"),r._fetchRuns=0,r.store(s),r.scheduleFutureFetch()},function(i){t.error("Failed to fetch csrf token",{err:i}),e.fire("csrf:badkey",i.message),r.scheduleRetry(n)})}return n}},"@VERSION@",{requires:["fletrics","client-app"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("base-pluginhost",function(e,t){var n=e.Base,r=e.Plugin.Host;e.mix(n,r,!1,null,1),n.plug=r.plug,n.unplug=r.unplug},"3.16.0",{requires:["base-base","pluginhost"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("template-base",function(e,t){function n(t,n){this.defaults=n,this.engine=t||e.Template.Micro,this.engine||e.error("No template engine loaded.")}n._registry={},n.register=function(e,t){return n._registry[e]=t,t},n.get=function(e){return n._registry[e]},n.render=function(t,r,i){var s=n._registry[t],o="";return s?o=s(r,i):e.error('Unregistered template: "'+t+'"'),o},n.prototype={compile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.compile(t,n)},precompile:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.precompile(t,n)},render:function(t,n,r){return r=r?e.merge(this.defaults,r):this.defaults,this.engine.render?this.engine.render(t,n,r):this.engine.compile(t,r)(n,r)},revive:function(t,n){return n=n?e.merge(this.defaults,n):this.defaults,this.engine.revive?this.engine.revive(t,n):t}},e.Template=e.Template?e.mix(n,e.Template):n},"3.16.0",{requires:["yui-base"]});
YUI.add("flickr-view",function(e,t){function r(t,r,i,s,o){e.namespace("Views"),e.Views[t]&&n.warn("A view with this name already exists. Did you mean to redefine it?",{view:t}),s.destroy&&s.destroy!==e.FlickrView.prototype.destroy&&n.warn("`destroy` method was overridden. Did you mean `destructor`?",{view:t}),s.initialize&&s.initialize!==e.FlickrView.prototype.initialize&&n.warn("`initialize` method was overridden. Did you mean `initializer`?",{view:t});try{e.Views[t]=e.Base.create(t,r,i,s,o)}catch(u){throw n.warn("`Base.create` method failed, maybe because of Chrome 51?",{view:t}),!YUI.Env.isServer&&e.config.win.beaconError&&e.config.win.beaconError("`Base.create` method failed, maybe because of Chrome 51?",e.config.win.location.href,u),u}if(r&&r!==e.FlickrView&&r.prototype&&r.prototype.langBundles){var a=[],f=(e.Views[t].prototype.langBundles||[]).concat(r.prototype.langBundles);a=e.Array.dedupe(f),e.Views[t].prototype.langBundles=a}return e.Views[t]}var n=require("hermes-core/flog")(t);e.FlickrView=e.Base.create("flickrView",e.Base,[],{viewState:null,subviews:{},subviewConfig:null,_eventHandles:null,initializer:function(e){return this.appContext=e.appContext,delete e.appContext,this.get("container").get("innerHTML")===""&&this.setContainerHTML(""),this.set("headContainer",""),this.isBuilt=!1,this.isActivated=!1,this.isErrorBuilt=!1,this.subviewsWithLoadingError={},this._params=e||{},this.isMobile=e.isMobile,this.subviews={},this._eventHandles=[],this.appContext&&!this.appContext.viewTiming&&(this.appContext.viewTiming={}),this.appContext&&(this.appContext.viewTiming[this.name]={initialize:0,loadState:0,buildContainer:0,buildHeadContainer:0,activate:0}),this},initialize:function(t){var r=this;return this.initializeStartTime=Date.now(),this.isErrorBuilt=!1,this.serverRendered=t&&t.serverRendered?t.serverRendered:!1,r.beforeDestroy&&(r.beforeDestroyHandler=r.before("destroy",r.beforeDestroy)),YUI.Env.isServer||this.registerEventHandler(this.appContext.flapp.after("activeViewChange",function(e){r.normalizedActivate()})),this.on("parentViewEvent",this.handleParentViewEvent.bind(this,this.name)),this.setupSubviews().then(function(){var e,t;if(r.isErrorBuilt)throw r.error.is404?r.error:(t=new Error("Subview of "+r.name+" causing loadState error"),r.error&&(t.message+=": "+r.error.message,r.error.method&&(t.message+=", method="+r.error.method),t.message+=" | subview failure: "+r.error.fatal,r.error.wasDealbreaker&&(t.message+=" dealbreaker failed "),r.error.wasMultipleSubviews&&(t.message+=" multiple subviews failed "),t.fatal=r.error.fatal),t);r.loadStateTimingStart=Date.now(),e=r.loadState();if(!e)throw new Error("View "+r.name+" loadState function does not return a promise");return e}).then(function(){r.appContext&&r.appContext.viewTiming&&r.appContext.viewTiming[r.name]&&(r.appContext.viewTiming[r.name].loadState=Date.now()-r.loadStateTimingStart);if(YUI.Env.isServer||!r.get("container").hasClass("requiredToShowOnServer")||t&&t.wasDeferred){var e=Date.now();try{r.buildContainer()}catch(i){throw n.error("Error building",{topic:r.name,err:i}),r.fire("loadingError",{message:i.message,fatal:!0,wasDealbreaker:!0}),r.buildErrorContainer(),r.isErrorBuilt=!0,i}r.appContext&&r.appContext.viewTiming&&r.appContext.viewTiming[r.name]&&(r.appContext.viewTiming[r.name].buildContainer=Date.now()-e);if(r.get("isRootView")){r._buildFullRootViewAdditionalViewClasses();var s=r.get("rootViewAdditionalViewClasses");s&&s.length>0&&r.get("container").addClass(s.join(" "))}}r.isBuilt=!0,r.isErrorBuilt=!1,r.fire("loadingSuccess")},function(e){throw r.fire("loadingError",{message:e.message,fatal:e.fatal,is404:e.is404,wasMultipleSubviews:e.wasMultipleSubviews,wasDealbreaker:e.wasDealbreaker}),r.buildErrorContainer(),r.isErrorBuilt=!0,n.error("Error loading state",{topic:r.name,err:e}),e}).then(function(){var t,n;return!r.isErrorBuilt&&!r.get("isActiveViewAgnostic")&&(t=Date.now(),r._buildFullHeadMeta(),r.buildHeadContainer=Date.now()-t),YUI.Env.isServer||(r.shouldDeferSubviews&&r._setupDeferredSubviewsInitialization(),n=Date.now(),r.normalizedActivate(),r.appContext&&r.appContext.viewTiming&&r.appContext.viewTiming[r.name]&&(r.appContext.viewTiming[r.name].activate=Date.now()-n)),r.appContext&&r.appContext.viewTiming&&r.appContext.viewTiming[r.name]&&(r.appContext.viewTiming[r.name].initialize=Date.now()-r.initializeStartTime),!YUI.Env.isServer&&r._params.logViewTimings&&r.wasRequiredToShow&&e.fletrics.set(r.name.replace(/\-/g,".")+".viewtiming",r.appContext.viewTiming[r.name].initialize),r},function(e){throw YUI.Env.isServer||(r.shouldDeferSubviews&&r._setupDeferredSubviewsInitialization(),r.normalizedActivate()),e}).catch(e.PromiseCatcher(this.name))},render:function(){return this},buildHeadContainer:function(){return this.set("headContainer",""),this},_buildSubviewHeadContainers:function(){var e=[],t=this,n="<script";return Object.keys(this.subviews).forEach(function(n){e.indexOf(t.subviews[n].get("headContainer"))===-1&&e.push(t.subviews[n].get("headContainer"))}),e.sort(function(e,t){var r=e.toLowerCase().indexOf(n)>-1,i=t.toLowerCase().indexOf(n)>-1;return r&&!i?1:!r&&i?-1:0}).join("")},_buildFullHeadMeta:function(){var e,t="";return this.buildHeadContainer(),e=this.get("headContainer"),e=e.concat(this._buildSubviewHeadContainers()),this.set("headContainer",e.concat(t)),this},setRootViewAdditionalViewClasses:function(){return this.set("rootViewAdditionalViewClasses",[]),this},_buildFullRootViewAdditionalViewClasses:function(){var e=[];return e=e.concat(this._buildSubviewRootViewAdditionalViewClasses()),this.set("rootViewAdditionalViewClasses",e),this},_buildSubviewRootViewAdditionalViewClasses:function(){this.setRootViewAdditionalViewClasses();var e=this.get("rootViewAdditionalViewClasses")||[],t=this;return Object.keys(this.subviews).forEach(function(n){var r=t.subviews[n]._buildSubviewRootViewAdditionalViewClasses();e=e.concat(r)}),e},_setupDeferredSubviewsInitialization:function(){setTimeout(function(){var t=
e.config.win.document.body;t.scrollTop>0||t.clientHeight-50<=t.scrollHeight?this._loadDeferredSubviews():(this.deferredViewScrollListener=e.globalEvents.subscribe("window:scroll",this._loadDeferredSubviews.bind(this)),this.registerEventHandler(this.deferredViewScrollListener))}.bind(this),10)},_loadDeferredSubviews:function(){this.loadingDeferred||(this.loadingDeferred=!0,this._removeDeferredViewScrollListener(),this._recursivelyLoadDeferredSubview(0,!1))},_removeDeferredViewScrollListener:function(){this.deferredViewScrollListener&&(this.deferredViewScrollListener.detach(),this.deferredViewScrollListener=null)},_recursivelyLoadDeferredSubview:function(t,r){var i=Object.keys(this.subviewConfig||[]).filter(function(e){var t=this.subviewConfig[e];return t.disabled===!0?!1:typeof t.disabled=="function"&&t.disabled.call(this,this._params)?!1:this.subviewConfig[e].canDefer}.bind(this)),s=this;if(t<=i.length-1){var o=i[t],u=e.merge(this._params,this.subviewConfig[o]),a;u.container=null,u.wasDeferred=!0,n.log("Loading deferred view",{topic:s.name,view:o});try{a=this.appContext.getView(o,u)}catch(f){this._onDeferredViewLoadingError(t,r,f);return}a.then(function(e){if(!e){n.error("An error occured trying to load the deferred view.",{topic:s.name}),r?(t++,r=!1):r=!0,s._recursivelyLoadDeferredSubview(t,r);return}e.initialize(u).then(function(){e.on("subviewViewEvent",function(t){t&&t.details&&t.details.length&&s.onSubviewEvent.call(s,e.name,t.details)}),u&&u.additionalViewClasses&&u.additionalViewClasses.forEach(function(t){e.get("container").addClass(t)}),s._addDeferredViewToDOM(e),e.normalizedActivate(),t++,s._recursivelyLoadDeferredSubview(t,!1)}).catch(s._onDeferredViewLoadingError.bind(this,t,r))})}},_onDeferredViewLoadingError:function(e,t,r){n.error("An error occured trying to initialize the deferred view",{topic:this.name,err:r}),t?(e++,t=!1):t=!0,this._recursivelyLoadDeferredSubview(e,t)},_addDeferredViewToDOM:function(e){if(!e){n.error("Non-view passed to _addDeferredViewToDOM.",{topic:this.name});return}var t=this.get("container").one("."+e.name),r=e.get("container");t&&r?t.replace(r):n.error("Could not add view to DOM in _addDeferredViewToDOM",{topic:this.name,view:e.name})},attachKeyEvent:function(e,t,n){return this.registerEventHandler(this.appContext.getKeyboardManager().on(e,n||this._params.keyEventScope||"*",t.bind(this)))},setContainerHTML:function(e){var t=this;return this.get("container").setHTML(e),YUI.Env.isServer||(this.get("container").generateID(),Object.keys(this.subviews||{}).forEach(function(e,n,r){var i=t.subviews[e],s=i.get("container"),o=i.getId?i.getId():s._yuid,u=t.get("container").one("#"+o);u&&u.replace(s)})),this},setupSubviews:function(){var t=this,r,i=[],s=[],o=[],u=this.appContext.flipper.isFlipped("enable-non-blocking-on-non-required-views"),a,f={};if(!this.subviewConfig)return e.Promise.resolve();Object.keys(this.subviewConfig).forEach(function(e){if(t.subviewConfig[e].disabled===!0)return;if(typeof t.subviewConfig[e].disabled=="function"&&t.subviewConfig[e].disabled.call(t,t._params))return;f[e]=t.subviewConfig[e]}),r=Object.keys(f).map(function(r){YUI.Env.isServer?a=f[r].requiredToShowOnServer||f[r].requiredToShow||t.appContext.forceServerRender&&!f[r].neverShowOnServer:a=f[r].requiredToShowOnClient||f[r].requiredToShow;var l=e.merge(t._params,f[r]);!t.shouldDeferSubviews&&l.canDefer&&delete l.canDefer;if(t.shouldDeferSubviews&&l.canDefer){n.log("Deferring subview.",{topic:t.name,view:r});var c=u?o:i;c.push(t.instantiateSubview(r,l).then(function(e){return e.setContainerHTML(""),e.get("container").addClass("deferred-view"),e}))}else if(a){var h=u?s:i;h.push(t.instantiateSubview(r,l).then(function(e){return e.wasRequiredToShow=!0,t.setupSubview(r,l,e)}))}else{var p=u?o:i;p.push(t.instantiateSubview(r,l).then(function(n){n.wasRequiredToShow=!1,YUI.Env.isServer||e.soon(function(){t.setupSubview(r,l,n)})}))}}).filter(function(e){return!!e});if(u){var l=s.length?e.Promise.all(s):e.Promise.resolve();return l.then(function(){o.length&&!YUI.Env.isServer&&e.Promise.all(o).then(function(){t.buildContainer(),t.normalizedActivate()})})}return i.length?e.Promise.all(i):e.Promise.resolve()},registerSubview:function(e,t){t||(t=e.name),this.subviews[t]=e},instantiateSubview:function(t,r){var i=this;return r.container=this.getContainer({isSubview:!0,subviewName:t,subviewParams:r}),this.appContext.getView(t,r).then(null,function(){return n.log("getView failed to load view, retrying once more."),i.appContext.getView(t,r)}).then(function(e){return e.on("loadingError",i.handleSubviewLoadingError.bind(i)),e.on("loadingSuccess",i.handleSubviewLoadingSuccess.bind(i)),e.on("subviewViewEvent",i.handleSubviewEvent.bind(i,e.name)),i.registerSubview(e,t),e._params&&(e._params.keyEventScope=i._params.keyEventScope),e}).catch(e.PromiseCatcher(this.name))},onSubviewEvent:function(e,t){return!0},onParentViewEvent:function(e,t){return!0},handleSubviewEvent:function(e,t){var n=t?t.details||[]:[];this.onSubviewEvent(e,n)!==!1&&this.fire.apply(this,["subviewViewEvent"].concat(n))},handleParentViewEvent:function(e,t){var n=t?t.details||[]:[],r,i=this;if(this.onParentViewEvent(e,n)!==!1)for(r in this.subviews)i.subviews[r].fire.apply(i.subviews[r],["parentViewEvent"].concat(n))},handleSubviewLoadingSuccess:function(e){this.subviewsWithLoadingError[e.target.name]&&delete this.subviewsWithLoadingError[e.target.name]},handleSubviewLoadingError:function(e){var t;this.subviewConfig[e.target.name].dealbreaker&&(this.hasDealbreakerSubviewLoadingError=!0),this.subviewsWithLoadingError[e.target.name]=e.details[0];if(!this.isErrorBuilt){t=Object.keys(this.subviewsWithLoadingError);if(this.hasDealbreakerSubviewLoadingError||t.length>=2)this.error={message:"",fatal:!0},t.forEach(function(e,n){var r=this.subviewsWithLoadingError[e];n!==t.length-1?this.error.message+="["+e+"] "+r.message+" | ":this.error.message+="["+e+"] "+r.message,r.is404&&(this.error.is404=!0),r.method&&(this.error.method+=r.method),r.fatal||
(this.error.fatal=!1)}.bind(this)),this.fire("loadingError",{message:this.error.message,fatal:this.error.fatal,is404:this.error.is404,wasDealbreaker:this.hasDealbreakerSubviewLoadingError,wasMultipleSubviews:t&&t.length>=2}),this.buildErrorContainer(),this.isErrorBuilt=!0,n.error("subview forced the error loading state",{topic:this.name,view:e.target.name})}},setupSubview:function(t,r,i){var s=this;return r=e.merge(r||{}),r.alreadyRendered=s.alreadyRendered,i.set("isActiveViewAgnostic",s.get("isActiveViewAgnostic")),i.initialize(r).then(function(){return s.subviews[t]},function(e){n.error("Error getting/initializing view",{topic:s.name,err:e,view:t})}).catch(e.PromiseCatcher(this.name))},attachEvents:function(t){if(!t)return;var n={},r=this;Object.keys(t).forEach(function(i){var s,o;s={selector:(i.match(/([\w-_#\.\[\]~|$^*= ]+) /i)||[])[1]||"[data-action]",type:(i.match(/([\w]+):/i)||[])[1]||"click",action:(i.match(/:([\w]+)/i)||[])[1]||"_default_"},o=s.selector+"/"+s.type,n[o]||(n[o]={},r.registerEventHandler(r.get("container").delegate(s.type,function(t){var i,u,a,f;i=t.target.ancestor(s.selector,!0);if(s.type==="click"){u=t.target.ancestor(".server-only-link",!0);if(u){if(t.metaKey===!0||t.ctrlKey===!0)return;e.config.win.location=u.get("href");return}}if(!i)return;a=i.getData()||{},f=a.action||"_default_";if(!n[o].hasOwnProperty(f))return;if(!n[o][f])throw new Error('Handler for "'+f+'" UI event is undefined');n[o][f].call(r,t,a)},s.selector))),n[o][s.action]=t[i]})},registerEventHandler:function(t){if(e.Lang.isFunction(t.detach))return this._eventHandles.push(t),t},detachRegisteredEvent:function(t){var n=this._eventHandles.indexOf(t);n!==-1&&e.Lang.isFunction(t.detach)&&(t.detach(),this._eventHandles.splice(n,1))},detachRegisteredEvents:function(){this._eventHandles.length&&(this._eventHandles.forEach(function(e){e.detach()}),this._eventHandles=[])},generateSignature:function(t,n){var r={},i,s,o=function(e){var t=0;if(e.length===0)return t;for(var n=0;n<e.length;n++)s=e.charCodeAt(n),t=(t<<5)-t+s,t&=t;return t};return e.Object.each(n,function(e,t){t!=="container"&&t!=="appContext"&&t!=="context"&&t!=="cspNonce"&&t!=="parentView"&&t!=="keyEventScope"&&typeof e!="undefined"&&typeof e!="function"&&(r[t]=typeof e=="object"?1:e)}),i=t+"__"+Object.keys(r).sort().map(function(e){var t,n;try{t=encodeURIComponent(e)}catch(i){t=encodeURIComponent(o(e))}try{n=encodeURIComponent(r[e])}catch(i){t=encodeURIComponent(o(r[e]))}return t+"_"+n}).join("__"),i},getContainer:function(t){t=t||{},t.subviewParams=t.subviewParams||{};var n,r,i=["view",t.subviewName||t.viewName||this.name],s,o=t.subviewName?t.subviewParams.additionalViewClasses:this.additionalViewClasses,u,a=t.subviewParams.preferredViewTag||"div";return(!t.isSubview||t.subviewParams.requiredToShowOnServer||t.subviewParams.requiredToShow)&&YUI.Env.isServer&&i.push("requiredToShowOnServer"),this.theme&&i.push(this.theme),e.Lang.isArray(o)&&o.length?i=i.concat(o):e.Lang.isFunction(o)&&(u=o.call(this),e.Lang.isArray(u)&&u.length&&(i=i.concat(u))),t.subviewName||i.push(e.FlickrView.ROOT_VIEW_CLASS_NAME),i=' class="'+i.join(" ")+'"',t.subview?n=t.subview.getId():t.subviewName&&t.subviewParams&&(n=this.generateSignature(t.subviewName,t.subviewParams)),YUI.Env.isServer?r={html:"",setHTML:function(e){this.html=e},getHTML:function(e){return this.html},get:function(e){switch(e){case"innerHTML":return this.html;case"outerHTML":return"<"+a+" "+i+(s?' style="'+Object.keys(s).reduce(function(e,t,n,r){return e+t+": "+s[t]+(n<r.length-1?"; ":"")},"")+'"':"")+(n?' data-view-signature="'+n+'"':"")+">"+this.html+"</"+a+">"}return null},hasChildNodes:function(){return!1},addClass:function(e){e=e.trim();if(e==="")return;i=i.slice(0,-1)+" "+e+'"'},hasClass:function(e){var t=i.split('"')[1],n=t.split(" ");return n.indexOf(e)>-1},removeClass:function(e){var t=i.split('"')[1],n=t.split(" "),r=n.indexOf(e);r!==-1&&(n.splice(r,1),i=' class="'+n.join(" ")+'"')},setStyle:function(e,t){s||(s={}),s[e]=t},setStyles:function(e){s||(s={}),Object.keys(e).forEach(function(t){s[t]=e[t]})},appendChild:function(e){this.html+=e.html},all:function(){return{each:function(){}}},one:function(){return null}}:(n&&(r=this.get("container").one('[data-view-signature="'+n+'"]')),r?r.removeAttribute("data-view-signature"):r=e.Node.create("<"+a+" "+i+"></"+a+">")),r},renderSubviews:function(){var e={},t=this;return Object.keys(this.subviews).forEach(function(e,r,i){try{t.subviews[e].render()}catch(s){n.error("Error rendering view",{topic:t.name,err:s,view:e})}}),e},templates:function(t){var r=e.Template.get("hermes/"+t),i=this.getLangBundles(),s=this,o;i.locales=this.appContext.lang||this.defaultLang;if(typeof r!="function")throw n.error("Template not found",{topic:this.name,template:t}),new Error("Template not found: "+t);return this.appContext.flipper&&(o=this.appContext.flipper),function(e){return e=e||{},!e.flippers&&o&&(e.flippers=o.toJSON()),e.isMobile=s._params.isMobile,e.cspNonce=s._params.cspNonce,s.appContext.forceServerRender&&(e.isServerRendered=!0),Object.keys(s.subviewConfig||{}).forEach(function(t){e[t]||(e[t]=s.subviews[t]?s.subviews[t].get("container"):"")}),r(e,{data:{intl:i,flippers:e.flippers}})}},loadState:function(){return e.Promise.resolve()},updateHead:function(){this.get("headContainer")!==null&&(e.one("head").all('[data-dynamic="true"]').remove(!0),e.one("head").append(this.get("headContainer")))},canActivate:function(){var e=!1;return(this.isBuilt||this.isErrorBuilt)&&!this.isActivated&&!this.isErrorActivated&&this.isActiveAndInDOM()&&(e=!0),e},isActiveAndInDOM:function(){var e=this.get("container");return e&&(this.get("isActiveViewAgnostic")||this.appContext.flapp.get("activeView").get("container").contains(e))&&e.inDoc()},activate:function(){return this},activateSubviews:function(){var e,t,r=this;for(e in this.subviews){t=r.subviews[e];try{t.normalizedActivate(),t.recursivelyActivateSubviews()}catch(i){n.error("Error activating view",{topic:this.name,err:i,view:e})
}}return this},recursivelyActivateSubviews:function(e){var t,r,i=e||this.subviews,s=this;for(t in i){r=i[t];if(r.canActivate()){r.normalizedActivate();try{r.normalizedActivate(),s.recursivelyActivateSubviews(r.subviews)}catch(o){n.error("Error activating view",{topic:this.name,err:o,view:r})}}}return this},normalizedActivate:function(){this.canActivate()&&(this.isErrorBuilt?(this.isErrorActivated=!0,this.activateErrorContainer()):(e.rapidTracker.refreshTracker(),this.activate(),this.isActivated=!0,this.activateSubviews()))},buildErrorContainer:function(){this.setContainerHTML("")},activateErrorContainer:function(){var e=this,t=this.get("container").one(".retry");t&&t.on("click",function(t){t.preventDefault(),e.isErrorActivated=!1,e.initialize()})},setViewDataOnHistory:function(t,n){return e.HistoryHelper.setData(this.name,t,n)},getViewDataFromHistory:function(t){return e.HistoryHelper.getData(this.name,t)},getTrackingSegments:function(){return{}},reload:function(t,n){var r=this,i=[];if(!t.length)return e.Promise.resolve();for(var s=0;s<t.length;s++)i.push(this.appContext.getModelRegistry(t[s]));return e.Promise.all(i).then(function(e){for(var t=0;t<e.length;t++)Array.isArray(n)?e[t].remove(n[t]):e[t].remove(n);YUI.Env.isServer||r.appContext.flapp.navigate(r.appContext.getLocation().href)}).catch(e.PromiseCatcher(this.name))},destroy:function(t){this.set("destroyed",!0);var n=this.get("container"),r;this.detachRegisteredEvents();if(!YUI.Env.isServer&&this.isActiveAndInDOM()){this.setRootViewAdditionalViewClasses();var i=this.get("rootViewAdditionalViewClasses")||[],s=e.one("."+e.FlickrView.ROOT_VIEW_CLASS_NAME);i&&s&&i.forEach(function(e){s.removeClass(e)})}return this._removeDeferredViewScrollListener(),e.Node&&n&&(n.detach&&n.detach(),t&&(t.remove||t["delete"])&&n.remove&&n.remove(!0),this.set("container",null)),this.destroySubviews(),r=e.FlickrView.superclass.destroy.call(this),this.beforeDestroyHandler&&this.beforeDestroyHandler.detach(),r},destroySubviews:function(){var e=this;Object.keys(this.subviews||{}).forEach(function(t,n,r){e.subviews[t].destroy()})},bringIntoFocus:function(){var e=this.get("container"),t=e.getAttribute("tabindex")||null;e.setAttribute("tabindex","-1"),e.focus(),e.blur(),t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")},setContainerWithTemplate:function(e,t){this.setContainerHTML(this.templates(e)(t))},godMessage:e.godMessage},{ATTRS:{container:{value:"",setter:function(e){return e||this.getContainer()}},spaceid:{value:792600503,validator:function(t){return e.Lang.isNumber(t)||e.Lang.isString(t)},setter:function(e){return parseInt(e,10)}},trackedElementIDs:{value:[],validator:function(t){return e.Lang.isArray(t)}},rapidConf:{value:{},validator:function(t){return e.Lang.isObject(t)}},isActiveViewAgnostic:{value:!1},isRootView:{value:!1},rootViewAdditionalViewClasses:{value:[],validator:function(t){return e.Lang.isArray(t)}}},create:r,ROOT_VIEW_CLASS_NAME:"flickr-view-root-view"}),e.mix(e.FlickrView.prototype,e.Localizable)},"@VERSION@",{requires:["base","template-base","flickr-promise","handlebars-base","handlebars-helpers","localizable","history-helper","god-message","fletrics"]});
YUI.add("hermes-template-photo-page-scrappy",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return u((n.outlet||t&&t.outlet||o).call(s,t!=null?t["global-nav-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"+u((n.outlet||t&&t.outlet||o).call(s,t!=null?t["photo-well-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"+u((n.outlet||t&&t.outlet||o).call(s,t!=null?t["sub-photo-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"+u((n.outlet||t&&t.outlet||o).call(s,t!=null?t["signup-footer-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"+u((n.outlet||t&&t.outlet||o).call(s,t!=null?t["footer-full-view"]:t,{name:"outlet",hash:{},data:i}))},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photo-page-scrappy",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("plugin",function(e,t){function n(t){!this.hasImpl||!this.hasImpl(e.Plugin.Base)?n.superclass.constructor.apply(this,arguments):n.prototype.initializer.apply(this,arguments)}n.ATTRS={host:{writeOnce:!0}},n.NAME="plugin",n.NS="plugin",e.extend(n,e.Base,{_handles:null,initializer:function(e){this._handles=[]},destructor:function(){if(this._handles)for(var e=0,t=this._handles.length;e<t;e++)this._handles[e].detach()},doBefore:function(e,t,n){var r=this.get("host"),i;return e in r?i=this.beforeHostMethod(e,t,n):r.on&&(i=this.onHostEvent(e,t,n)),i},doAfter:function(e,t,n){var r=this.get("host"),i;return e in r?i=this.afterHostMethod(e,t,n):r.after&&(i=this.afterHostEvent(e,t,n)),i},onHostEvent:function(e,t,n){var r=this.get("host").on(e,t,n||this);return this._handles.push(r),r},onceHostEvent:function(e,t,n){var r=this.get("host").once(e,t,n||this);return this._handles.push(r),r},afterHostEvent:function(e,t,n){var r=this.get("host").after(e,t,n||this);return this._handles.push(r),r},onceAfterHostEvent:function(e,t,n){var r=this.get("host").onceAfter(e,t,n||this);return this._handles.push(r),r},beforeHostMethod:function(t,n,r){var i=e.Do.before(n,this.get("host"),t,r||this);return this._handles.push(i),i},afterHostMethod:function(t,n,r){var i=e.Do.after(n,this.get("host"),t,r||this);return this._handles.push(i),i},toString:function(){return this.constructor.NAME+"["+this.constructor.NS+"]"}}),e.namespace("Plugin").Base=n},"3.16.0",{requires:["base-base"]});
YUI.add("ttfp-recorder-plugin",function(e,t){"use strict";function s(e){s.superclass.constructor.apply(this,arguments)}var n=require("hermes-core/flog")(t),r="AFT",i="AFT_CL";s.NAME=s.NS="TTFPRecorderPlugin",s.ATTRS={selector:{value:""}},e.extend(s,e.Plugin.Base,{initializer:function(e){this.set("selector",e.selector),this.afterHostMethod("setContainerHTML",this._doAfterSetContainerHTML,this),this.afterHostMethod("setContainerWithTemplate",this._doAfterSetContainerHTML,this)},destructor:function(){},setSelector:function(e){this.set("selector",e)},testImageResolver:function(t,r,i){var s=this.get("host"),o,u=this;return function(a,f){var l=new Image,c=e.guid();if(window.LH&&i)try{o=window.LH.mark("mark_time_to_load_photo_only_start"+c).startTime}catch(h){}l.onload=function(){var f,h;t.inDoc()||a();if(l.onloadFired){a();return}l.onloadFired=!0;if(window.LH&&i){try{if(window.performance.getEntriesByName&&s.appContext.flipper.isFlipped("enable-resource-performance-timing")){var p=window.performance.getEntriesByName(l.src),d=p.length?p[0]:null;f=d?d.duration:null,h=d?d.startTime:o}}catch(v){}try{if(f&&h)window.LH.record("time_to_load_photo_only",{name:"time_to_load_photo_only",type:"mark",startTime:h,duration:f}),!YUI.Env.isServer&&e.config.win.beaconPerformance&&window.beaconPerformance("time_to_load_photo_only",window.location.href,{duration:f});else{window.LH.mark("mark_time_to_load_photo_only"+c);var m=window.LH.measure("time_to_load_photo_only",{startMark:"mark_time_to_load_photo_only_start"+c,endMark:"mark_time_to_load_photo_only"+c});f=m.duration,!YUI.Env.isServer&&e.config.win.beaconPerformance&&window.beaconPerformance("time_to_load_photo_only",window.location.href,{duration:f})}u.sendToClientMetrics("time_to_load_photo_only",f)}catch(g){n.warn("Missing start mark",{err:g})}}a(r)},l.onerror=function(){f("Failed to load image")},l.src=t.getAttribute("src"),l.complete&&(l.onloadFired=!0,a(r))}},_doAfterSetContainerHTML:function(){var e,t,n,s;s=this.get("host"),e=s.get("container"),s&&s.appContext&&s.appContext.clientMetrics&&e&&(t=e.one(this.get("selector")),n=s.appContext.clientMetrics,t&&(n.setPendingMark(this.testImageResolver(t,r,!0)),n.setPendingMark(this.testImageResolver(t,i)),n.beaconLater()))},sendToClientMetrics:function(t,n){var r=this.get("host");if(r&&r.appContext&&r.appContext.clientMetrics){var i=r.appContext.clientMetrics;i.record("time_to_load_photo_only",n),!YUI.Env.isServer&&e.config.win.beaconPerformance&&window.beaconPerformance("time_to_load_photo_only",window.location.href,{duration:n})}}}),e.namespace("Plugin.FlickrView").TTFPRecorderPlugin=s},"@VERSION@",{requires:["plugin"]});
YUI.add("signin-helper",function(e){function t(t,n){e.FlickrStorage.store(t,n)}function n(e,n){var r="fave";t(r,e),m(r,n)}function r(e,t){var n="comment";m(n,t)}function i(e,n){var r="share";t(r,e),m(r,n)}function s(e,n){var r="joingroup";t(r,e),m(r,n)}function o(e,n){var r="follow";t(r,e),m(r,n)}function u(e,n){var r="download";t(r,e),m(r,n)}function a(e,n){var r="fave";t(r,e),y(r,n)}function f(e,t){var n="comment";y(n,t)}function l(e,n){var r="joingroup";t(r,e),y(r,n)}function c(e,n){var r="follow";t(r,e),y(r,n)}function h(e,n){var r="download";t(r,e),y(r,n)}function p(t){var n,r,i=[];if(!t)return;if(e.FlickrStorage.hasEntries()){n=e.FlickrStorage.retrieve();for(r in n)d(t,n[r])||i.push(n[r])}return e.FlickrStorage.remove(),i}function d(e,t){var n=t.key,r=t.value;switch(n){case"fave":return v(e,r),!0;case"share":return!1}}function v(e,t){var n=t.id,r=e.getModelRegistry("photo-engagement-models");r.then(function(e){var t=e.proxy(n);t.registry.addAsFave(n)&&t.remoteUpdate()})}function m(t,n){var r,i;n&&n.withPopup?(r=e.config.win.open(g(n),"_blank","height=650,resizable=1,scrollbars=1,location=yes"),i=setInterval(function(){r.closed&&(clearInterval(i),window.location.reload())},1e3)):e.config.win.location=g(n)}function g(t){t=t||{},t.closeWhenDone&&(t.postLoginUrl=e.url("/photo_grease_postlogin.gne",{protocol:!1}));var n=t.postLoginUrl||e.config.win.location.href,r=t.url||e.url("/signin/yahoo/",{protocol:!1});return r+"?redir="+encodeURIComponent(n)}function y(t,n){n=n||{};var r=n.postLoginUrl||e.config.win.location.href,i=n.url||e.url("/signup/",{protocol:!1});e.config.win.location=i+"?redir="+encodeURIComponent(r)}e.FlickrStorage={_storageKey:"flickrStorage",store:function(t,n){try{var r=[];e.StorageHelper.hasEntries(this._storageKey)&&(r=this.retrieve()),r.push({key:t,value:n}),e.StorageHelper.setItem(this._storageKey,JSON.stringify(r))}catch(i){}},retrieve:function(){var t={};try{t=JSON.parse(e.StorageHelper.getItem(this._storageKey))}catch(n){}return t},remove:function(){try{e.StorageHelper.remove(this._storageKey)}catch(t){}},hasEntries:function(){return e.StorageHelper.hasEntries(this._storageKey)}},e.SigninHelper={savePreLoginAction:t,addPendingFave:n,addPendingComment:r,addPendingShare:i,addPendingFollow:o,addPendingJoinGroup:s,addPendingDownload:u,checkPendingQueue:p,_redirectToSignin:m,_redirectToSignUp:y,_getSigninUrl:g,signUpPendingFave:a,signUpPendingComment:f,signUpPendingFollow:c,signUpPendingJoinGroup:l,signUpPendingDownload:h}},"@VERSION@",{requires:["url","storage-helper"]});
/*
YUI 3.16.0 (build 76f0e08)
Copyright 2014 Yahoo! Inc. All rights reserved.
Licensed under the BSD License.
http://yuilibrary.com/license/
*/

YUI.add("yui-throttle",function(e,t){
/*! Based on work by Simon Willison: http://gist.github.com/292562 */
;e.throttle=function(t,n){n=n?n:e.config.throttleTime||150;if(n===-1)return function(){t.apply(this,arguments)};var r=e.Lang.now();return function(){var i=e.Lang.now();i-r>n&&(r=i,t.apply(this,arguments))}}},"3.16.0",{requires:["yui-base"]});
YUI.add("hermes-template-photo-well-scrappy",function(e,t){var n=e.Template.Handlebars.revive({1:function(e,t,n,r,i){return" enable-zoom"},3:function(e,t,n,r,i){return" no-click"},5:function(e,t,n,r,i){return" is-hidden"},7:function(e,t,n,r,i){var s;return e.escapeExpression((s=(s=n["prev-url"]||(t!=null?t["prev-url"]:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"prev-url",hash:{},data:i}):s))},9:function(e,t,n,r,i){return"#"},11:function(e,t,n,r,i){var s;return e.escapeExpression((s=(s=n["prev-title"]||(t!=null?t["prev-title"]:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"prev-title",hash:{},data:i}):s))},13:function(e,t,n,r,i){var s;return e.escapeExpression((s=(s=n["next-url"]||(t!=null?t["next-url"]:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"next-url",hash:{},data:i}):s))},15:function(e,t,n,r,i){var s;return e.escapeExpression((s=(s=n["next-title"]||(t!=null?t["next-title"]:t))!=null?s:n.helperMissing,typeof s=="function"?s.call(t!=null?t:{},{name:"next-title",hash:{},data:i}):s))},17:function(e,t,n,r,i){var s=t!=null?t:{},o=n.helperMissing,u=e.escapeExpression;return"		"+u((n.outlet||t&&t.outlet||o).call(s,t!=null?t["photo-sidebar-toggle-view"]:t,{name:"outlet",hash:{},data:i}))+"\n		"+u((n.outlet||t&&t.outlet||o).call(s,t!=null?t["attribution-view"]:t,{name:"outlet",hash:{},data:i}))+"\n		"+u((n.outlet||t&&t.outlet||o).call(s,t!=null?t["people-notes-view"]:t,{name:"outlet",hash:{},data:i}))+"\n		"+u((n.outlet||t&&t.outlet||o).call(s,t!=null?t["photo-engagement-view"]:t,{name:"outlet",hash:{},data:i}))+"\n"},19:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a="function",f=e.escapeExpression;return"		<a class='entry-type do-not-evict' href='"+f((s=(s=n.entryURL||(t!=null?t.entryURL:t))!=null?s:u,typeof s===a?s.call(o,{name:"entryURL",hash:{},data:i}):s))+'\'><div class="icon"></div> '+f((s=(s=n.backToLabel||(t!=null?t.backToLabel:t))!=null?s:u,typeof s===a?s.call(o,{name:"backToLabel",hash:{},data:i}):s))+"</a>\n"},21:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a=e.escapeExpression;return'		<a href="'+a((s=(s=n.similaritySearchURL||(t!=null?t.similaritySearchURL:t))!=null?s:u,typeof s=="function"?s.call(o,{name:"similaritySearchURL",hash:{},data:i}):s))+'" class="similarity-search-link" data-track="photoPageSimilaritySearchClick" title="'+a((n.intlMessage||t&&t.intlMessage||u).call(o,{name:"intlMessage",hash:{intlName:"common.SEARCH_FOR_SIMILAR_PHOTOS"},data:i}))+'"><svg class="icon icon-search"><use xlink:href="#icon-search"></use></svg></a>\n'},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o,u=t!=null?t:{},a=n.helperMissing,f="function",l=e.escapeExpression;return'<div class="height-controller'+((s=n["if"].call(u,t!=null?t.enableZoom:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" style="height: '+l((o=(o=n.height||(t!=null?t.height:t))!=null?o:a,typeof o===f?o.call(u,{name:"height",hash:{},data:i}):o))+'px;">\n\n	<a class="navigate-target navigate-prev'+((s=n["if"].call(u,t!=null?t["prev-is-not-clickable"]:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(u,t!=null?t["is-hidden"]:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" href="'+((s=n["if"].call(u,t!=null?t["prev-url"]:t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.program(9,i,0),data:i}))!=null?s:"")+'" title="'+((s=n["if"].call(u,t!=null?t["prev-url"]:t,{name:"if",hash:{},fn:e.program(11,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" data-track="prevPhotoButtonClick" data-action="ad" style="height: '+l((o=(o=n.navHeight||(t!=null?t.navHeight:t))!=null?o:a,typeof o===f?o.call(u,{name:"navHeight",hash:{},data:i}):o))+'px;"><span class="hide-text">&larr;</span></a>\n\n	'+l((n.outlet||t&&t.outlet||a).call(u,t!=null?t["photo-well-media-view"]:t,{name:"outlet",hash:{},data:i}))+"\n	"+l((n.outlet||t&&t.outlet||a).call(u,t!=null?t["photo-notes-scrappy-view"]:t,{name:"outlet",hash:{},data:i}))+'\n\n	<a class="navigate-target navigate-next'+((s=n["if"].call(u,t!=null?t["next-is-not-clickable"]:t,{name:"if",hash:{},fn:e.program(3,i,0),inverse:e.noop,data:i}))!=null?s:"")+((s=n["if"].call(u,t!=null?t["is-hidden"]:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" href="'+((s=n["if"].call(u,t!=null?t["next-url"]:t,{name:"if",hash:{},fn:e.program(13,i,0),inverse:e.program(9,i,0),data:i}))!=null?s:"")+'"  title="'+((s=n["if"].call(u,t!=null?t["next-url"]:t,{name:"if",hash:{},fn:e.program(15,i,0),inverse:e.noop,data:i}))!=null?s:"")+'" data-track="nextPhotoButtonClick" data-action="ad" style="height: '+l((o=(o=n.navHeight||(t!=null?t.navHeight:t))!=null?o:a,typeof o===f?o.call(u,{name:"navHeight",hash:{},data:i}):o))+'px;"><span class="hide-text">&rarr;</span></a>\n\n'+((s=n.unless.call(u,t!=null?t["is-ad"]:t,{name:"unless",hash:{},fn:e.program(17,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n.unless.call(u,t!=null?t.hideBackToLink:t,{name:"unless",hash:{},fn:e.program(19,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n"+((s=n["if"].call(u,t!=null?t.similaritySearchURL:t,{name:"if",hash:{},fn:e.program(21,i,0),inverse:e.noop,data:i}))!=null?s:"")+"\n	"+l((n.outlet||t&&t.outlet||a).call(u,t!=null?t["context-slider-view"]:t,{name:"outlet",hash:{},data:i}))+"\n\n</div>"},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photo-well-scrappy",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-photo-page-right-size-express",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var s,o=t!=null?t:{},u=n.helperMissing,a="function",f=e.escapeExpression;return'\n<script type="text/javascript" nonce="'+f((s=(s=n.cspNonce||(t!=null?t.cspNonce:t))!=null?s:u,typeof s===a?s.call(o,{name:"cspNonce",hash:{},data:i}):s))+'">\n\n	(function(){\n\n		var PADDING_HORIZONTAL = 40;\n\n		window.getPhotoWellHeight = function () {\n\n			var minHeight = 500,\n			    winWidth = window.innerWidth,\n			    winHeight = window.innerHeight - 50,\n			    ratioNarrow = 1,\n			    ratioRegular = 2.3,\n			    ratioTransitional = 2.75,\n			    idealSubphotoHeight = 120,\n			    breakHeightNarrow = (winWidth / ratioNarrow) + idealSubphotoHeight,\n			    breakHeightRegular = (winWidth / ratioRegular) + idealSubphotoHeight,\n			    breakHeightTransitional = winWidth / ratioTransitional,\n			    newPhotoWellHeight;\n\n			if (winHeight > breakHeightNarrow) {\n\n				newPhotoWellHeight = winWidth / ratioNarrow;\n\n			} else if (winHeight > breakHeightRegular) {\n\n				newPhotoWellHeight = winHeight - idealSubphotoHeight;\n\n			} else if (winHeight > breakHeightTransitional) {\n\n				newPhotoWellHeight = winHeight - idealSubphotoHeight + idealSubphotoHeight * (winHeight - breakHeightRegular) / (breakHeightTransitional - breakHeightRegular);\n\n			} else {\n\n				newPhotoWellHeight = winHeight;\n\n			}\n\n			return Math.max(minHeight, Math.round(newPhotoWellHeight));\n\n		}\n\n		function domReady () {\n\n			try {\n\n				if (document.getElementsByClassName("low-res-photo")[0]) {\n\n					var photoWellView = document.getElementsByClassName("photo-well-scrappy-view")[0],\n					    heightController = photoWellView.getElementsByClassName("height-controller")[0],\n					    photoWellMediaView = document.getElementsByClassName("photo-well-media-scrappy-view")[0],\n					    lowResImageElement = photoWellMediaView.getElementsByClassName("low-res-photo")[0],\n					    photoWidth = '+f((s=(s=n.photoWidth||(t!=null?t.photoWidth:t))!=null?s:u,typeof s===a?s.call(o,{name:"photoWidth",hash:{},data:i}):s))+",\n					    photoHeight = "+f((s=(s=n.photoHeight||(t!=null?t.photoHeight:t))!=null?s:u,typeof s===a?s.call(o,{name:"photoHeight",hash:{},data:i}):s))+',\n					    photoAspectRatio = photoWidth / photoHeight,\n					    photoWellHeight = window.getPhotoWellHeight(),\n					    photoWellMediaViewPadding = {\n					        top: parseInt(getComputedStyle(photoWellMediaView)[\'paddingTop\'].match(/[0-9]+/)[0], 10),\n					        right: PADDING_HORIZONTAL,\n					        bottom: parseInt(getComputedStyle(photoWellMediaView)[\'paddingBottom\'].match(/[0-9]+/)[0], 10),\n					        left: PADDING_HORIZONTAL\n					    },\n					    canvasSize = {\n					        height: photoWellHeight - photoWellMediaViewPadding.top - photoWellMediaViewPadding.bottom,\n					        width: window.innerWidth - photoWellMediaViewPadding.left - photoWellMediaViewPadding.right\n					    };\n\n					heightController.style.height = photoWellHeight + "px";\n\n					if (photoWidth <= canvasSize.width && photoHeight <= canvasSize.height) {\n						lowResImageElement.style.height = photoHeight + "px";\n						lowResImageElement.style.width = photoWidth + "px";\n					} else {\n						if (photoAspectRatio < 1 || Math.round(canvasSize.width / photoAspectRatio) > canvasSize.height) {\n							lowResImageElement.style.height = canvasSize.height + "px";\n							lowResImageElement.style.width = Math.round(canvasSize.height * photoAspectRatio) + "px";\n						} else {\n							lowResImageElement.style.height = Math.round(canvasSize.width / photoAspectRatio) + "px";\n							lowResImageElement.style.width = canvasSize.width + "px";\n						}\n					}\n\n				}\n\n			} catch (e) {\n				if (window.sendRequest) {\n					window.sendRequest(\'flickr.hermes.photoDimensionCorrectionError\', \'There was a JS error when trying to correct a server rendered photo.\');\n				}\n			}\n\n		}\n\n		if (document.readyState != \'loading\'){\n			domReady();\n		} else {\n			document.addEventListener(\'DOMContentLoaded\', domReady);\n		}\n\n	}());\n\n</script>\n'},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/photo-page-right-size-express",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-vr-overlay",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return'<a class="close"><span></span></a>'},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/vr-overlay",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
YUI.add("hermes-template-flickr-balls",function(e,t){var n=e.Template.Handlebars.revive({compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){return'<div class="balls">\n	<div class="blue ball"></div><div class="pink ball"></div>\n</div>'},useData:!0}),r={};e.Array.each([],function(t){var n=e.Template.get("hermes/"+t);n&&(r[t]=n)}),e.Template.register("hermes/flickr-balls",function(t,i){return i=i||{},i.partials=i.partials?e.merge(r,i.partials):r,n(t,i)})},"@VERSION@",{requires:["template-base","handlebars-base"]});
